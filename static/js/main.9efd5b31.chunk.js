(this.webpackJsonphcaog=this.webpackJsonphcaog||[]).push([[0],[,,,function(e,t,i){e.exports={sidebar:"style_sidebar__20YO8",summary:"style_summary__3lUAu",logo:"style_logo__1e-ND",layers:"style_layers__2wW6l","layers-header":"style_layers-header__2EIjH"}},function(e,t,i){e.exports={"layer-toggle":"style_layer-toggle__1Ve87","layer-checkbox":"style_layer-checkbox__2k3sd",line:"style_line__WqDAE",ClassI:"style_ClassI__30Qrr",ClassII:"style_ClassII__2hfiF",ClassIII:"style_ClassIII__1lxDv",Trail:"style_Trail__2Cez4",Advanced:"style_Advanced__2zHBE",Intermediate:"style_Intermediate__1kIf6",Family:"style_Family__3aRwf",Official:"style_Official__3OyHu",Alternative:"style_Alternative__1o_PS",icon:"style_icon__nJFy-"}},,function(e,t,i){e.exports={tooltip:"style_tooltip__4MSBX","tooltip-text":"style_tooltip-text__2NP0t",visible:"style_visible__1BmWb","tooltip-top":"style_tooltip-top__1aRl1"}},,,,,,,,function(e,t,i){},,function(e,t,i){},function(e,t,i){"use strict";i.r(t);var a=i(1),s=i.n(a),l=i(5),o=i.n(l),r=i(2);i(14);const c={get:e=>({...c[e],id:e}),"bike-points":{id:"bike-points",type:"vector",url:"mapbox://hcaog.4f94k5tj"},"bike-routes":{id:"bike-routes",type:"vector",url:"mapbox://hcaog.1nksq7lv"},connectors:{id:"connectors",type:"vector",url:"mapbox://hcaog.digdwntd"},pcb:{id:"pcb",type:"vector",url:"mapbox://hcaog.6vx5ufzz"}},n={"bike-points":"bike_points-0g9ncs","bike-routes":"bike_routes-4e3370",connectors:"connectors-7o42gn",pcb:"PCB_full-4s2gb0"},d=1,u=2,y=({type:e,sourceId:t,sourceLayerId:i,layout:a,paint:s,filter:l})=>({id:o,layerName:r,layout:c,paint:d})=>({id:o,type:e,source:t,"source-layer":n[i],layout:{...a,...c},paint:{...s,...d},filter:l(r)}),p=({sourceId:e,sourceLayerId:t,filter:i})=>y({type:"line",sourceId:e,sourceLayerId:t,layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-width":u},filter:i}),b=(({sourceId:e,sourceLayerId:t,filter:i})=>y({type:"symbol",sourceId:e,sourceLayerId:t,layout:{"icon-size":d,"icon-allow-overlap":!1,visibility:"visible"},paint:{},filter:i}))({sourceId:"bike-points",sourceLayerId:"bike-points",filter:e=>["==","Type",e]}),j=p({sourceId:"bike-routes",sourceLayerId:"bike-routes",filter:e=>["==","type_2021",e]}),m=p({sourceId:"connectors",sourceLayerId:"connectors",filter:e=>["==","Type",e]}),h=p({sourceId:"pcb",sourceLayerId:"pcb",filter:e=>["==","Status",e]}),f={source:c.get("bike-points"),layers:[{id:"bike-shops",layout:{"icon-image":"hcaog-hardware-15"},paint:{"icon-color":"black"},layerName:"Bicycle Shop"},{id:"rental",layout:{"icon-image":"hcaog-bicycle-15"},paint:{"icon-color":"black"},layerName:"Rental"},{id:"tool-station",layout:{"icon-image":"hardware-15"},layerName:"Tool Station"}].map(b),details:{"bike-shops":{name:"Bike Shop"},rental:{name:"Bike Rental"},"tool-station":{name:"Tool Station"}}},x={source:c.get("bike-routes"),layers:[{id:"ClassI",paint:{"line-color":"#2fa021"},layerName:"Existing Class I"},{id:"ClassII",paint:{"line-color":"#103ca1"},layerName:"Existing Class II"},{id:"ClassIII",paint:{"line-color":"#fa8807"},layerName:"Existing Class III"},{id:"Trail",paint:{"line-color":"#baa77c","line-dasharray":[1,2]},layerName:"Existing Trail"}].map(j),details:{ClassI:{name:"Multi-use Path",description:"A separated paved path for bicycles and pedestrians."},ClassII:{name:"Bike Lane",description:"A restricted right-of-way for bicycles along the side of a street (typically 5 feet wide). A thick white line separates the auto and bike lanes. Motor vehicles may merge into these lanes to make turns."},ClassIII:{name:"Shared Road",description:"A travel lane shared by bicycles and motor vehicles designated only by signs or pavement markings. This type of facility mainly informs motorists of preferred cycling routes."},Trail:{name:"Natural Surface Trails",description:"A dirt or gravel single-track paths that are bicycle compatible."}}},O={source:c.get("connectors"),layers:[{id:"Family Friendly",paint:{"line-color":"green","line-dasharray":[1,2]},layerName:"Family Friendly"},{id:"Intermediate",paint:{"line-color":"#2b47a1","line-dasharray":[1,2]},layerName:"Intermediate"},{id:"Advanced",paint:{"line-color":"#871f1f","line-dasharray":[1,2]},layerName:"Advanced"}].map(m),details:{"Family Friendly":{name:"Family-Friendly",description:"Family friendly connector routes."},Intermediate:{name:"Intermediate",description:"Intermediate connector routes that are a little more difficult than famiy-friendly routes."},Advanced:{name:"Advanced",description:"Advanced connector routes that typically involves more traffic and may require advanced bike skills."}}},v={source:c.get("pcb"),layers:[{id:"Official",paint:{"line-color":"black"},layerName:"Official"},{id:"Alternative",paint:{"line-color":"gray"},layerName:"Alternative"}].map(h),details:{Official:{name:"Official",description:"Official Pacific Coast Bike Route."},Alternative:{name:"Alternative",description:"Alternative Pacific Coast Bike Route segments."}}};var g=i.p+"static/media/logo.3d93fbe4.png";const _=e=>({type:_,value:e}),I=()=>({type:I});var k=(e,{type:t,value:i})=>{switch(t){case _:return{...e,focusedLayer:i};case I:return{...e,focusedLayer:void 0}}},C=i(0);const N={focusedLayer:"class1"},L=Object(a.createContext)(N),w=({children:e})=>{const[t,i]=Object(a.useReducer)(k,N);return Object(C.jsx)(L.Provider,{value:[t,i],children:e})},A=()=>Object(a.useContext)(L);const B=e=>({type:B,value:e});var S=(e,{type:t,value:i})=>{switch(t){case B:return{...e,[i]:!e[i]}}};const F={ClassI:!0,ClassII:!0,ClassIII:!0,Trail:!0,rental:!0,"bike-shops":!0,"tool-station":!0,Official:!1,Alternative:!1},R=Object(a.createContext)(F),T=({children:e})=>{const[t,i]=Object(a.useReducer)(S,F);return Object(C.jsx)(R.Provider,{value:[t,i],children:e})},M=()=>Object(a.useContext)(R);var P=i(6),E=i.n(P);const H=e=>e?document.documentElement.style.setProperty("--tooltip-offset","".concat(e,"px")):document.documentElement.style.removeProperty("--tooltip-offset");var W=({text:e,direction:t,children:i})=>{const s=Object(a.useRef)();return Object(C.jsxs)("span",{className:"".concat(E.a.tooltip," ").concat(E.a["tooltip-"+t]),onMouseEnter:()=>{if(!s.current)return;const e=s.current.getBoundingClientRect(),t=Math.floor(Math.min(0,window.innerWidth-e.right));H(t)},onMouseLeave:()=>H(0),children:[i,Object(C.jsx)("div",{className:E.a["tooltip-text"],ref:s,children:e})]})},z=i(4),J=i.n(z);var q=({layerId:e,details:{name:t,description:i},type:a})=>{const[,s]=A(),[l,o]=M();return Object(C.jsxs)("div",{className:J.a["layer-toggle"],children:[Object(C.jsxs)("span",{onClick:()=>o(B(e)),onMouseEnter:()=>s(_(e)),onMouseLeave:()=>s(I(e)),children:[Object(C.jsx)("div",{className:J.a["layer-checkbox"],children:Object(C.jsx)("input",{type:"checkbox",className:"".concat(J.a[a]," ").concat(J.a[e]),defaultChecked:l[e]})}),Object(C.jsx)("label",{htmlFor:J.a[e],children:t})]}),i&&Object(C.jsxs)(W,{text:i,direction:"top",children:["\ud83d\udec8",Object(C.jsx)("strong",{})]})]})},D=i(3),G=i.n(D);var V=()=>Object(C.jsxs)("div",{className:G.a.sidebar,children:[Object(C.jsx)("div",{className:G.a.logo,children:Object(C.jsx)("img",{src:g,alt:"HCAGO Logo"})}),Object(C.jsxs)("div",{className:G.a.summary,children:[Object(C.jsx)("p",{children:"Humboldt County offers incredible bike opportunities for visitors and locals alike. Find a new way to commute to work, explore the countryside, an adventurous mountain bike ride, and more!"}),Object(C.jsxs)("p",{children:["To learn more about Humboldt County Bike Routes click",Object(C.jsx)("a",{target:"_blank",href:"https://www.hcaog.net/documents/humboldt-regional-bicycle-plan-2018",rel:"noreferrer",children:"here"}),"."]})]}),Object(C.jsxs)("div",{className:G.a.layers,children:[Object(C.jsx)("h3",{className:G.a["layers-header"],children:"Existing Bike Routes"}),Object.entries(x.details).map((([e,t])=>Object(C.jsx)(q,{layerId:e,details:t,type:"line"},e))),Object.entries(f.details).map((([e,t])=>Object(C.jsx)(q,{layerId:e,details:t,type:"icon"},e))),Object(C.jsx)("h3",{className:G.a["layers-header"],children:"Connector Routes"}),Object.entries(O.details).map((([e,t])=>Object(C.jsx)(q,{layerId:e,details:t,type:"line"},e))),Object(C.jsx)("h3",{className:G.a["layers-header"],children:"Pacific Coast Bike Route"}),Object.entries(v.details).map((([e,t])=>Object(C.jsx)(q,{layerId:e,details:t,type:"line"},e)))]})]});const Q={symbol:1.5*d,line:2*u},X=(e,t,i,s)=>{const l=Object(a.useMemo)((()=>e.filter((e=>t[e.id]))),[e,t]),o=Object(a.useMemo)((()=>l.map(((e,t)=>[t,e])).sort((([e,t],[a,s])=>t.id==i?-1:s.id==i?1:e-a)).map((([,e])=>e))),[l,i]);return Array.from(Object(a.useMemo)((()=>o.map(((e,t,i)=>{var a,l;return{...e,before:null!==(a=null===(l=i[t-1])||void 0===l?void 0:l.id)&&void 0!==a?a:s}}))),[o,s]))},Y=e=>{switch(e.type){case"symbol":return{...e,layout:{...e.layout,"icon-size":Q.symbol}};case"line":return{...e,paint:{...e.paint,"line-width":Q.line}}}};var Z=()=>{var e;const[t,i]=Object(a.useState)({latitude:40.745,longitude:-123.8695,zoom:8}),[s,l]=Object(a.useState)(null),[o,c]=Object(a.useState)(null),[n,d]=Object(a.useState)(null),[u,y]=Object(a.useState)(null),[p,b]=Object(a.useState)(null),[j]=A(),[m]=M(),h=e=>{l(e.features[0].properties),y(e.lngLat)},g=e=>{c(e.features[0].properties),y(e.lngLat)},_=e=>{d(e.features[0].properties),y(e.lngLat),console.log("connector",n)},I=()=>()=>{b("pointer")},k=()=>{b(null)},N=X(f.layers,m,j.focusedLayer),L=X(x.layers,m,j.focusedLayer,null===(e=f.layers.slice(-1)[0])||void 0===e?void 0:e.id),w=X(O.layers,m,j.focusedLayer),B=X(v.layers,m,j.focusedLayer);return Object(C.jsxs)("div",{className:"container",children:[Object(C.jsxs)(r.g,{...t,style:{flexGrow:"1",height:"100%"},mapStyle:"mapbox://styles/hcaog/ckr3qf0ot95xh17linukv86ts",accessToken:"pk.eyJ1IjoieW9vcGVyamIiLCJhIjoiY2tvdzh4Zm5nMDNhYjJucXVkcWNmMXJrMiJ9.qu4fF1cZMCiLQSSr3ik5tQ",onViewportChange:i,cursorStyle:p,attributionControl:!1,pitchWithRotate:!0,dragRotate:!0,children:[Object(C.jsx)(r.f,{...x.source,children:L.map((e=>Object(C.jsx)(r.c,{...j.focusedLayer===e.id?Y(e):e,onHover:I(e.id),onClick:g,onLeave:k},e.id)))}),Object(C.jsx)(r.f,{...O.source,children:w.map((e=>Object(C.jsx)(r.c,{...j.focusedLayer===e.id?Y(e):e,onClick:_,onHover:I(e.id),onLeave:k},e.id)))}),Object(C.jsx)(r.f,{...v.source,children:B.map((e=>Object(C.jsx)(r.c,{...j.focusedLayer===e.id?Y(e):e,onHover:I(e.id),onLeave:k},e.id)))}),Object(C.jsx)(r.f,{...f.source,children:N.map((e=>Object(C.jsx)(r.c,{...j.focusedLayer===e.id?Y(e):e,onHover:I(e.id),onClick:h,onLeave:k},e.id)))}),s&&u?Object(C.jsx)(r.e,{latitude:u.lat,longitude:u.lng,closeButton:!1,className:"bikePointsPopup",onClose:()=>l(null),children:Object(C.jsxs)("div",{children:[Object(C.jsx)("h3",{children:s.Type}),Object(C.jsx)("p",{children:s.Name}),Object(C.jsx)("p",{children:s.Location}),s.Website?Object(C.jsx)("p",{children:Object(C.jsx)("a",{target:"_blank",href:s.Website,rel:"noreferrer",children:"Website"})}):null]})}):null,o&&u?Object(C.jsx)(r.e,{latitude:u.lat,longitude:u.lng,closeButton:!1,className:"bikeRoutePopup",onClose:()=>c(null),children:Object(C.jsxs)("div",{children:[Object(C.jsx)("h3",{children:o.type_2021}),Object(C.jsx)("p",{children:o.Name}),Object(C.jsxs)("p",{children:["Bikes Allowed: ",o.Bikes_Allo]})]})}):null,n&&u?Object(C.jsx)(r.e,{latitude:u.lat,longitude:u.lng,closeButton:!1,className:"connectorPopup",onClose:()=>d(null),children:Object(C.jsxs)("div",{children:[Object(C.jsx)("h3",{children:n.Type}),Object(C.jsx)("p",{children:n.Name})]})}):null,Object(C.jsx)(r.d,{showZoom:!0,position:"top-right"}),Object(C.jsx)(r.b,{}),Object(C.jsx)(r.a,{position:"bottom-right",customAttribution:"HCAOG",compact:!0})]}),Object(C.jsx)(V,{})]})};i(16);var U=e=>{e&&e instanceof Function&&i.e(3).then(i.bind(null,18)).then((({getCLS:t,getFID:i,getFCP:a,getLCP:s,getTTFB:l})=>{t(e),i(e),a(e),s(e),l(e)}))};o.a.render(Object(C.jsx)(s.a.StrictMode,{children:Object(C.jsx)(w,{children:Object(C.jsx)(T,{children:Object(C.jsx)(Z,{})})})}),document.getElementById("root")),U()}],[[17,1,2]]]);
//# sourceMappingURL=main.9efd5b31.chunk.js.map