(this.webpackJsonphcaog=this.webpackJsonphcaog||[]).push([[0],[,,,,,,,function(e,t,o){e.exports={"layer-toggle":"style_layer-toggle__1Ve87","layer-checkbox":"style_layer-checkbox__2k3sd",line:"style_line__WqDAE",ClassI:"style_ClassI__30Qrr",ClassII:"style_ClassII__2hfiF",ClassIII:"style_ClassIII__1lxDv",Trail:"style_Trail__2Cez4",Advanced:"style_Advanced__2zHBE",Intermediate:"style_Intermediate__1kIf6","Family-Friendly":"style_Family-Friendly__agi-i",Official:"style_Official__3OyHu",Alternative:"style_Alternative__1o_PS",icon:"style_icon__nJFy-"}},,function(e,t,o){e.exports={sidebar:"style_sidebar__20YO8",hidden:"style_hidden__1XlB_",logo:"style_logo__1e-ND",summary:"style_summary__3lUAu"}},,function(e,t,o){e.exports={"tooltip-wrapper":"style_tooltip-wrapper__3fm7M","tooltip-text":"style_tooltip-text__2NP0t",visible:"style_visible__1BmWb","tooltip-top":"style_tooltip-top__1aRl1"}},,function(e,t,o){e.exports={"popup-row":"style_popup-row__3NELi",popup:"style_popup__1Z3vc"}},function(e,t,o){e.exports={"layer-group-header":"style_layer-group-header__2VGaN"}},function(e,t,o){e.exports={"sidebar-toggle":"style_sidebar-toggle__30Ict"}},,,,,,,,,,,,,function(e,t,o){},function(e,t,o){},function(e,t,o){"use strict";o.r(t);var i=o(0),a=o.n(i),r=o(8),s=o.n(r),c=(o(20),o(6)),n=o(5),l=o(3),d=o(4),u=o(13),p=o.n(u);const y={latitude:40.745,longitude:-123.8695,zoom:8},b={get:e=>({...b[e],id:e}),"bike-points":{id:"bike-points",type:"vector",url:"mapbox://hcaog.4f94k5tj"},"bike-routes":{id:"bike-routes",type:"vector",url:"mapbox://hcaog.1nksq7lv"},connectors:{id:"connectors",type:"vector",url:"mapbox://hcaog.digdwntd"},pcb:{id:"pcb",type:"vector",url:"mapbox://hcaog.6vx5ufzz"}},h={"bike-points":"bike_points-0g9ncs","bike-routes":"bike_routes-4e3370",connectors:"connectors-7o42gn",pcb:"PCB_full-4s2gb0"},m=1,j=2,f=e=>["interpolate",["linear"],["zoom"],y.zoom,e,y.zoom+8,2*e,y.zoom+16,4*e],g=({type:e,sourceId:t,sourceLayerId:o,layout:i,paint:a,filter:r})=>({id:s,layerName:c,layout:n,paint:l})=>({id:s,type:e,source:t,"source-layer":h[o],layout:{...i,...n},paint:{...a,...l},filter:r(c)}),v=({sourceId:e,sourceLayerId:t,filter:o})=>g({type:"line",sourceId:e,sourceLayerId:t,layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-width":f(j)},filter:o}),x=(({sourceId:e,sourceLayerId:t,filter:o})=>g({type:"symbol",sourceId:e,sourceLayerId:t,layout:{"icon-size":m,"icon-allow-overlap":!1,visibility:"visible"},paint:{},filter:o}))({sourceId:"bike-points",sourceLayerId:"bike-points",filter:e=>["==","Type",e]}),O=v({sourceId:"bike-routes",sourceLayerId:"bike-routes",filter:e=>["==","type_2021",e]}),_=v({sourceId:"connectors",sourceLayerId:"connectors",filter:e=>["==","Type",e]}),k=v({sourceId:"pcb",sourceLayerId:"pcb",filter:e=>["==","Status",e]}),I={source:b.get("bike-points"),layers:[{id:"bike-shops",layout:{"icon-image":"hcaog-hardware-15"},paint:{"icon-color":"black"},layerName:"Bicycle Shop"},{id:"rental",layout:{"icon-image":"hcaog-bicycle-15"},paint:{"icon-color":"black"},layerName:"Rental"},{id:"tool-station",layout:{"icon-image":"hardware-15"},layerName:"Tool Station"}].map(x),details:{"bike-shops":{name:"Bike Shop",icon:"dollar-sign",color:"blue"},rental:{name:"Bike Rental",icon:"bicycle",color:"red"},"tool-station":{name:"Tool Station",icon:"wrench",color:"green"}}},C={source:b.get("bike-routes"),layers:[{id:"ClassI",paint:{"line-color":"#2fa021"},layerName:"Existing Class I"},{id:"ClassII",paint:{"line-color":"#103ca1"},layerName:"Existing Class II"},{id:"ClassIII",paint:{"line-color":"#fa8807"},layerName:"Existing Class III"},{id:"Trail",paint:{"line-color":"#baa77c","line-dasharray":[1,2]},layerName:"Existing Trail"}].map(O),details:{ClassI:{name:"Multi-use Path",description:"A separated paved path for bicycles and pedestrians."},ClassII:{name:"Bike Lane",description:"A restricted right-of-way for bicycles along the side of a street (typically 5 feet wide). A thick white line separates the auto and bike lanes. Motor vehicles may merge into these lanes to make turns."},ClassIII:{name:"Shared Road",description:"A travel lane shared by bicycles and motor vehicles designated only by signs or pavement markings. This type of facility mainly informs motorists of preferred cycling routes."},Trail:{name:"Natural Surface Trails",description:"A dirt or gravel single-track paths that are bicycle compatible."}}},w={source:b.get("connectors"),layers:[{id:"Family-Friendly",paint:{"line-color":"green","line-dasharray":[1,2]},layerName:"Family Friendly"},{id:"Intermediate",paint:{"line-color":"#2b47a1","line-dasharray":[1,2]},layerName:"Intermediate"},{id:"Advanced",paint:{"line-color":"#871f1f","line-dasharray":[1,2]},layerName:"Advanced"}].map(_),details:{"Family-Friendly":{name:"Family Friendly",description:"Family friendly connector routes."},Intermediate:{name:"Intermediate",description:"Intermediate connector routes that are a little more difficult than famiy-friendly routes."},Advanced:{name:"Advanced",description:"Advanced connector routes that typically involves more traffic and may require advanced bike skills."}}},N={source:b.get("pcb"),layers:[{id:"Official",paint:{"line-color":"black"},layerName:"Official"},{id:"Alternative",paint:{"line-color":"gray"},layerName:"Alternative"}].map(k),details:{Official:{name:"Official",description:"Official Pacific Coast Bike Route."},Alternative:{name:"Alternative",description:"Alternative Pacific Coast Bike Route segments."}}};var L=o(1);const A={"Bicycle Shop":"bike-shops",Rental:"rental","Tool Station":"tool-station"};var T=({type:e,info:t})=>{const o=Object(i.useMemo)((()=>"route"===e?"type_2021":"Type"),[e]),a=Object(i.useMemo)((()=>{if("icon"!==e)return;const{icon:i,color:a}=I.details[A[t[o]]];return Object(L.jsx)(d.a,{icon:i,color:a})}),[e,o]),r=Object(i.useMemo)((()=>{if("icon"===e)return Object(L.jsx)("a",{target:"_blank",href:t.Website,rel:"noreferrer",children:Object(L.jsx)(d.a,{icon:"external-link-alt"})})}),[e,t]),s=Object(i.useMemo)((()=>"icon"===e?Object(L.jsx)("p",{children:t.Location}):"route"===e&&"Existing Trail"===t[o]?Object(L.jsxs)("p",{children:[" Bikes Allowed: ",t.Bikes_Allo," "]}):void 0),[e,t]);return Object(L.jsxs)("div",{className:p.a.popup,children:[Object(L.jsxs)("h3",{children:[a,t[o]]}),t.Name&&Object(L.jsxs)("div",{className:p.a["popup-row"],children:[Object(L.jsx)("p",{children:t.Name}),r]}),s]})},S=o.p+"static/media/logo.3d93fbe4.png";const F=()=>{const{innerWidth:e,innerHeight:t}=window;return{width:e,height:t}},E=e=>({type:E,value:e}),B=()=>({type:B}),M=()=>({type:M}),R=()=>({type:R}),z=()=>({type:z});var P=(e,{type:t,value:o})=>{switch(t){case E:return{...e,focusedLayer:o};case B:return{...e,focusedLayer:void 0};case M:return{...e,showSidebar:!0};case R:return{...e,showSidebar:!1};case z:return{...e,showSidebar:!e.showSidebar}}};const{width:H}=F(),J={showSidebar:H>600,focusedLayer:"class1"},W=Object(i.createContext)(J),D=({children:e})=>{const[t,o]=Object(i.useReducer)(P,J);return Object(L.jsx)(W.Provider,{value:[t,o],children:e})},Z=()=>Object(i.useContext)(W);const q=e=>({type:q,value:e});var G=(e,{type:t,value:o})=>{switch(t){case q:return{...e,[o]:!e[o]}}};const V={ClassI:!0,ClassII:!0,ClassIII:!0,Trail:!0,rental:!0,"bike-shops":!0,"tool-station":!0,Official:!1,Alternative:!1},Y=Object(i.createContext)(V),U=({children:e})=>{const[t,o]=Object(i.useReducer)(G,V);return Object(L.jsx)(Y.Provider,{value:[t,o],children:e})},X=()=>Object(i.useContext)(Y);var Q=o(11),K=o.n(Q);const $=e=>e?document.documentElement.style.setProperty("--tooltip-offset","".concat(e,"px")):document.documentElement.style.removeProperty("--tooltip-offset");var ee=({text:e,direction:t,children:o})=>{const a=Object(i.useRef)();return Object(L.jsxs)("span",{className:"".concat(K.a["tooltip-wrapper"]," ").concat(K.a["tooltip-"+t]),onMouseEnter:()=>{if(!a.current)return;const e=a.current.getBoundingClientRect(),t=Math.floor(Math.min(0,window.innerWidth-e.right));$(t)},onMouseLeave:()=>$(0),children:[o,Object(L.jsx)("div",{className:K.a["tooltip-text"],ref:a,children:e})]})},te=o(7),oe=o.n(te);var ie=({layerId:e,details:{name:t,description:o},type:a="icon"})=>{const[,r]=Z(),[s,c]=X(),n=()=>r(E(e)),l=()=>r(B(e)),u=Object(i.useMemo)((()=>{if("icon"!==a)return;const{icon:t,color:o}=I.details[e];return Object(L.jsx)(d.a,{icon:t,color:o})}),[a]);return Object(L.jsxs)("div",{className:oe.a["layer-toggle"],children:[Object(L.jsxs)("span",{onClick:()=>c(q(e)),onMouseEnter:n,onMouseLeave:l,onTouchEnd:l,onTouchStart:n,onTouchCancel:l,children:[Object(L.jsx)("div",{className:oe.a["layer-checkbox"],children:Object(L.jsx)("input",{type:"checkbox",className:"".concat(oe.a[a]," ").concat(oe.a[e]),defaultChecked:s[e]})}),Object(L.jsxs)("label",{htmlFor:oe.a[e],children:[u&&Object(L.jsxs)("span",{children:[u," - "]})," ",t]})]}),o&&Object(L.jsx)(ee,{text:o,direction:"top",children:Object(L.jsx)(d.a,{icon:"info-circle",style:{color:"white"}})})]})},ae=o(14),re=o.n(ae);var se=({header:e,children:t})=>Object(L.jsxs)(L.Fragment,{children:[e&&Object(L.jsx)("h3",{className:re.a["layer-group-header"],children:e}),t]}),ce=o(9),ne=o.n(ce);var le=({show:e})=>{const t=[{details:C.details,header:"Existing Bike Routes",toggleType:"line"},{details:I.details},{details:w.details,header:"Connector Routes",toggleType:"line"},{details:N.details,header:"Pacific Coast Bike Route",toggleType:"line"}];return Object(L.jsx)(L.Fragment,{children:Object(L.jsxs)("div",{className:ne.a.sidebar+(e?"":" ".concat(ne.a.hidden)),children:[Object(L.jsx)("div",{className:ne.a.logo,children:Object(L.jsx)("img",{src:S,alt:"HCAGO Logo"})}),Object(L.jsxs)("div",{className:ne.a.summary,children:[Object(L.jsx)("p",{children:"Humboldt County offers incredible bike opportunities for visitors and locals alike. Find a new way to commute to work, explore the countryside, an adventurous mountain bike ride, and more!"}),Object(L.jsxs)("p",{children:["To learn more about Humboldt County Bike Routes click",Object(L.jsx)("a",{target:"_blank",href:"https://www.hcaog.net/documents/humboldt-regional-bicycle-plan-2018",rel:"noreferrer",children:"here"}),"."]})]}),t.map((({header:e,details:t,toggleType:o},i)=>Object(L.jsx)(se,{header:e,children:Object.entries(t).map((([e,t])=>Object(L.jsx)(ie,{layerId:e,details:t,type:o},e)))},null!==e&&void 0!==e?e:i)))]})})};const de={symbol:1.5*m,line:2*j},ue=(e,t,o,a)=>{const r=Object(i.useMemo)((()=>e.filter((e=>t[e.id]))),[e,t]),s=Object(i.useMemo)((()=>r.map(((e,t)=>[t,e])).sort((([e,t],[i,a])=>t.id==o?-1:a.id==o?1:e-i)).map((([,e])=>e))),[r,o]);return Array.from(Object(i.useMemo)((()=>s.map(((e,t,o)=>{var i,r;return{...e,before:null!==(i=null===(r=o[t-1])||void 0===r?void 0:r.id)&&void 0!==i?i:a}}))),[s,a]))};o(28);var pe=992;const ye=Object(i.createContext)(F());var be=({children:e})=>{const[t,o]=Object(i.useState)(F());return Object(i.useEffect)((()=>{const e=()=>{o(F())};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[t]),Object(L.jsx)(ye.Provider,{value:t,children:e})},he=o(15),me=o.n(he);var je=()=>{const[{showSidebar:e},t]=Z(),{width:o}=Object(i.useContext)(ye),a=Object(i.useContext)(l.d),r=o<=pe;return Object(i.useEffect)((()=>{r||e||t(z())}),[r]),Object(i.useEffect)((()=>a.resize()),[e]),r?Object(L.jsx)("div",{className:me.a["sidebar-toggle"],children:Object(L.jsx)("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group",children:Object(L.jsx)("button",{className:"mapboxgl-ctrl-geolocate",onClick:()=>t(z()),children:Object(L.jsx)(d.a,{icon:"chevron-".concat(e?"right":"left")})})})}):Object(L.jsx)(L.Fragment,{})};const fe="mapbox://styles/hcaog/ckr3qf0ot95xh17linukv86ts";var ge=()=>{var e;const[t]=Z(),[o]=X(),[a,r]=Object(i.useState)(),[s,c]=Object(i.useState)(y),[n,d]=Object(i.useState)(),u=()=>d((()=>null)),p=e=>Object(i.useCallback)((({features:t,lngLat:o})=>{d((()=>{var i;return{type:e,...o,info:null===(i=t[0])||void 0===i?void 0:i.properties}}))}),[e]),b=p("route"),h=p("connector"),m=p("icon"),j=p("pcb"),g=()=>r(null),v=()=>r("pointer"),x=[{...C.source,layers:ue(C.layers,o,t.focusedLayer,null===(e=I.layers.slice(-1)[0])||void 0===e?void 0:e.id),onLayerClick:b},{...w.source,layers:ue(w.layers,o,t.focusedLayer),onLayerClick:h},{...N.source,layers:ue(N.layers,o,t.focusedLayer),onLayerClick:j},{...I.source,layers:ue(I.layers,o,t.focusedLayer),onLayerClick:m}];return Object(i.useEffect)(u,[o]),Object(L.jsxs)("div",{className:"container",children:[Object(L.jsxs)(l.h,{accessToken:"pk.eyJ1IjoiaGNhb2ciLCJhIjoiY2t0YTg3aTZxMWpocTJ1bzBlZjRlZ3JibiJ9.a9XIeW1dclDUiW_bDH-7_A",mapStyle:fe,onClick:u,onViewportChange:c,cursorStyle:a,attributionControl:!1,...s,children:[x.map((({layers:e,onLayerClick:o,...a})=>{const r=e.map((e=>t.focusedLayer===e.id?(e=>{switch(e.type){case"symbol":return{...e,layout:{...e.layout,"icon-size":de.symbol}};case"line":return{...e,paint:{...e.paint,"line-width":f(de.line)}}}})(e):e)).map((e=>Object(L.jsx)(l.c,{...e,onClick:o,onHover:v,onLeave:g},e.id)));return r.length?Object(i.createElement)(l.g,{...a,key:a.id},r):null})).filter((e=>e)),n&&Object(L.jsx)(l.f,{latitude:n.lat,longitude:n.lng,closeButton:!1,closeOnClick:!1,className:"selectedFeaturePopup",onClose:u,children:Object(L.jsx)(T,{...n})}),Object(L.jsx)(l.e,{showZoom:!0,position:"top-right"}),Object(L.jsx)(l.b,{}),Object(L.jsx)(l.a,{position:"bottom-right",customAttribution:"HCAOG",compact:!0}),Object(L.jsx)(je,{})]}),Object(L.jsx)(le,{show:t.showSidebar})]})};var ve=e=>{e&&e instanceof Function&&o.e(3).then(o.bind(null,31)).then((({getCLS:t,getFID:o,getFCP:i,getLCP:a,getTTFB:r})=>{t(e),o(e),i(e),a(e),r(e)}))};o(29);c.b.add(n.f,n.e,n.c,n.b,n.d,n.a,n.g),s.a.render(Object(L.jsx)(a.a.StrictMode,{children:Object(L.jsx)(D,{children:Object(L.jsx)(be,{children:Object(L.jsx)(U,{children:Object(L.jsx)(ge,{})})})})}),document.getElementById("root")),ve()}],[[30,1,2]]]);
//# sourceMappingURL=main.9ae7aaec.chunk.js.map