(this.webpackJsonphcaog=this.webpackJsonphcaog||[]).push([[0],[,,,function(e,t,a){e.exports={"layer-toggle":"style_layer-toggle__1Ve87","layer-checkbox":"style_layer-checkbox__2k3sd",line:"style_line__WqDAE",ClassI:"style_ClassI__30Qrr",ClassII:"style_ClassII__2hfiF",ClassIII:"style_ClassIII__1lxDv",Trail:"style_Trail__2Cez4",Advanced:"style_Advanced__2zHBE",Intermediate:"style_Intermediate__1kIf6",Family:"style_Family__3aRwf",Official:"style_Official__3OyHu",Alternative:"style_Alternative__1o_PS",icon:"style_icon__nJFy-"}},,function(e,t,a){e.exports={sidebar:"style_sidebar__20YO8",hidden:"style_hidden__1XlB_",logo:"style_logo__1e-ND",summary:"style_summary__3lUAu"}},function(e,t,a){e.exports={"tooltip-wrapper":"style_tooltip-wrapper__3fm7M","tooltip-text":"style_tooltip-text__2NP0t",visible:"style_visible__1BmWb","tooltip-top":"style_tooltip-top__1aRl1"}},,function(e,t,a){e.exports={"layer-group-header":"style_layer-group-header__2VGaN"}},function(e,t,a){e.exports={"sidebar-toggle":"style_sidebar-toggle__30Ict"}},,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var i=a(0),r=a.n(i),o=a(4),s=a.n(o),n=a(2),l=a(1);var c=({type:e,info:t})=>{const a=Object(i.useMemo)((()=>"route"===e?"type_2021":"Type"),[e]),r=Object(i.useMemo)((()=>{switch(e){case"route":return Object(l.jsxs)("p",{children:[" Bike Allowed: ",t.Bikes_Allowed," "]});case"icon":return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("p",{children:t.Location}),t.Website&&Object(l.jsx)("p",{children:Object(l.jsx)("a",{target:"_blank",href:t.Website,rel:"noreferrer",children:"Website"})})]})}}),[e,t]);return Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:t[a]}),Object(l.jsx)("p",{children:t.Name}),r]})};const d={latitude:40.745,longitude:-123.8695,zoom:8},u={get:e=>({...u[e],id:e}),"bike-points":{id:"bike-points",type:"vector",url:"mapbox://hcaog.4f94k5tj"},"bike-routes":{id:"bike-routes",type:"vector",url:"mapbox://hcaog.1nksq7lv"},connectors:{id:"connectors",type:"vector",url:"mapbox://hcaog.digdwntd"},pcb:{id:"pcb",type:"vector",url:"mapbox://hcaog.6vx5ufzz"}},y={"bike-points":"bike_points-0g9ncs","bike-routes":"bike_routes-4e3370",connectors:"connectors-7o42gn",pcb:"PCB_full-4s2gb0"},b=1,p=2,h=e=>["interpolate",["linear"],["zoom"],d.zoom,e,d.zoom+8,2*e,d.zoom+16,4*e],m=({type:e,sourceId:t,sourceLayerId:a,layout:i,paint:r,filter:o})=>({id:s,layerName:n,layout:l,paint:c})=>({id:s,type:e,source:t,"source-layer":y[a],layout:{...i,...l},paint:{...r,...c},filter:o(n)}),j=({sourceId:e,sourceLayerId:t,filter:a})=>m({type:"line",sourceId:e,sourceLayerId:t,layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-width":h(p)},filter:a}),f=(({sourceId:e,sourceLayerId:t,filter:a})=>m({type:"symbol",sourceId:e,sourceLayerId:t,layout:{"icon-size":b,"icon-allow-overlap":!1,visibility:"visible"},paint:{},filter:a}))({sourceId:"bike-points",sourceLayerId:"bike-points",filter:e=>["==","Type",e]}),g=j({sourceId:"bike-routes",sourceLayerId:"bike-routes",filter:e=>["==","type_2021",e]}),v=j({sourceId:"connectors",sourceLayerId:"connectors",filter:e=>["==","Type",e]}),x=j({sourceId:"pcb",sourceLayerId:"pcb",filter:e=>["==","Status",e]}),O={source:u.get("bike-points"),layers:[{id:"bike-shops",layout:{"icon-image":"hcaog-hardware-15"},paint:{"icon-color":"black"},layerName:"Bicycle Shop"},{id:"rental",layout:{"icon-image":"hcaog-bicycle-15"},paint:{"icon-color":"black"},layerName:"Rental"},{id:"tool-station",layout:{"icon-image":"hardware-15"},layerName:"Tool Station"}].map(f),details:{"bike-shops":{name:"Bike Shop"},rental:{name:"Bike Rental"},"tool-station":{name:"Tool Station"}}},_={source:u.get("bike-routes"),layers:[{id:"ClassI",paint:{"line-color":"#2fa021"},layerName:"Existing Class I"},{id:"ClassII",paint:{"line-color":"#103ca1"},layerName:"Existing Class II"},{id:"ClassIII",paint:{"line-color":"#fa8807"},layerName:"Existing Class III"},{id:"Trail",paint:{"line-color":"#baa77c","line-dasharray":[1,2]},layerName:"Existing Trail"}].map(g),details:{ClassI:{name:"Multi-use Path",description:"A separated paved path for bicycles and pedestrians."},ClassII:{name:"Bike Lane",description:"A restricted right-of-way for bicycles along the side of a street (typically 5 feet wide). A thick white line separates the auto and bike lanes. Motor vehicles may merge into these lanes to make turns."},ClassIII:{name:"Shared Road",description:"A travel lane shared by bicycles and motor vehicles designated only by signs or pavement markings. This type of facility mainly informs motorists of preferred cycling routes."},Trail:{name:"Natural Surface Trails",description:"A dirt or gravel single-track paths that are bicycle compatible."}}},k={source:u.get("connectors"),layers:[{id:"Family Friendly",paint:{"line-color":"green","line-dasharray":[1,2]},layerName:"Family Friendly"},{id:"Intermediate",paint:{"line-color":"#2b47a1","line-dasharray":[1,2]},layerName:"Intermediate"},{id:"Advanced",paint:{"line-color":"#871f1f","line-dasharray":[1,2]},layerName:"Advanced"}].map(v),details:{"Family Friendly":{name:"Family-Friendly",description:"Family friendly connector routes."},Intermediate:{name:"Intermediate",description:"Intermediate connector routes that are a little more difficult than famiy-friendly routes."},Advanced:{name:"Advanced",description:"Advanced connector routes that typically involves more traffic and may require advanced bike skills."}}},I={source:u.get("pcb"),layers:[{id:"Official",paint:{"line-color":"black"},layerName:"Official"},{id:"Alternative",paint:{"line-color":"gray"},layerName:"Alternative"}].map(x),details:{Official:{name:"Official",description:"Official Pacific Coast Bike Route."},Alternative:{name:"Alternative",description:"Alternative Pacific Coast Bike Route segments."}}};var C=a.p+"static/media/logo.3d93fbe4.png";const w=()=>{const{innerWidth:e,innerHeight:t}=window;return{width:e,height:t}},L=e=>({type:L,value:e}),N=()=>({type:N}),A=()=>({type:A}),T=()=>({type:T}),F=()=>({type:F});var S=(e,{type:t,value:a})=>{switch(t){case L:return{...e,focusedLayer:a};case N:return{...e,focusedLayer:void 0};case A:return{...e,showSidebar:!0};case T:return{...e,showSidebar:!1};case F:return{...e,showSidebar:!e.showSidebar}}};const{width:B}=w(),E={showSidebar:B>600,focusedLayer:"class1"},M=Object(i.createContext)(E),R=({children:e})=>{const[t,a]=Object(i.useReducer)(S,E);return Object(l.jsx)(M.Provider,{value:[t,a],children:e})},z=()=>Object(i.useContext)(M);const P=e=>({type:P,value:e});var W=(e,{type:t,value:a})=>{switch(t){case P:return{...e,[a]:!e[a]}}};const H={ClassI:!0,ClassII:!0,ClassIII:!0,Trail:!0,rental:!0,"bike-shops":!0,"tool-station":!0,Official:!1,Alternative:!1},J=Object(i.createContext)(H),D=({children:e})=>{const[t,a]=Object(i.useReducer)(W,H);return Object(l.jsx)(J.Provider,{value:[t,a],children:e})},q=()=>Object(i.useContext)(J);var G=a(6),Z=a.n(G);const V=e=>e?document.documentElement.style.setProperty("--tooltip-offset","".concat(e,"px")):document.documentElement.style.removeProperty("--tooltip-offset");var Y=({text:e,direction:t,children:a})=>{const r=Object(i.useRef)();return Object(l.jsxs)("span",{className:"".concat(Z.a["tooltip-wrapper"]," ").concat(Z.a["tooltip-"+t]),onMouseEnter:()=>{if(!r.current)return;const e=r.current.getBoundingClientRect(),t=Math.floor(Math.min(0,window.innerWidth-e.right));V(t)},onMouseLeave:()=>V(0),children:[a,Object(l.jsx)("div",{className:Z.a["tooltip-text"],ref:r,children:e})]})},U=a(3),X=a.n(U);var Q=({layerId:e,details:{name:t,description:a},type:i="icon"})=>{const[,r]=z(),[o,s]=q(),n=()=>r(L(e)),c=()=>r(N(e));return Object(l.jsxs)("div",{className:X.a["layer-toggle"],children:[Object(l.jsxs)("span",{onClick:()=>s(P(e)),onMouseEnter:n,onMouseLeave:c,onTouchEnd:c,onTouchStart:n,onTouchCancel:c,children:[Object(l.jsx)("div",{className:X.a["layer-checkbox"],children:Object(l.jsx)("input",{type:"checkbox",className:"".concat(X.a[i]," ").concat(X.a[e]),defaultChecked:o[e]})}),Object(l.jsx)("label",{htmlFor:X.a[e],children:t})]}),a&&Object(l.jsx)(Y,{text:a,direction:"top",children:Object(l.jsx)("i",{className:"fa fa-info-circle"})})]})},K=a(8),$=a.n(K);var ee=({header:e,children:t})=>Object(l.jsxs)(l.Fragment,{children:[e&&Object(l.jsx)("h3",{className:$.a["layer-group-header"],children:e}),t]}),te=a(5),ae=a.n(te);var ie=({show:e})=>{const t=[{details:_.details,header:"Existing Bike Routes",toggleType:"line"},{details:O.details},{details:k.details,header:"Connector Routes",toggleType:"line"},{details:I.details,header:"Pacific Coast Bike Route",toggleType:"line"}];return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:ae.a.sidebar+(e?"":" ".concat(ae.a.hidden)),children:[Object(l.jsx)("div",{className:ae.a.logo,children:Object(l.jsx)("img",{src:C,alt:"HCAGO Logo"})}),Object(l.jsxs)("div",{className:ae.a.summary,children:[Object(l.jsx)("p",{children:"Humboldt County offers incredible bike opportunities for visitors and locals alike. Find a new way to commute to work, explore the countryside, an adventurous mountain bike ride, and more!"}),Object(l.jsxs)("p",{children:["To learn more about Humboldt County Bike Routes click",Object(l.jsx)("a",{target:"_blank",href:"https://www.hcaog.net/documents/humboldt-regional-bicycle-plan-2018",rel:"noreferrer",children:"here"}),"."]})]}),t.map((({header:e,details:t,toggleType:a},i)=>Object(l.jsx)(ee,{header:e,children:Object.entries(t).map((([e,t])=>Object(l.jsx)(Q,{layerId:e,details:t,type:a},e)))},null!==e&&void 0!==e?e:i)))]})})};const re={symbol:1.5*b,line:2*p},oe=(e,t,a,r)=>{const o=Object(i.useMemo)((()=>e.filter((e=>t[e.id]))),[e,t]),s=Object(i.useMemo)((()=>o.map(((e,t)=>[t,e])).sort((([e,t],[i,r])=>t.id==a?-1:r.id==a?1:e-i)).map((([,e])=>e))),[o,a]);return Array.from(Object(i.useMemo)((()=>s.map(((e,t,a)=>{var i,o;return{...e,before:null!==(i=null===(o=a[t-1])||void 0===o?void 0:o.id)&&void 0!==i?i:r}}))),[s,r]))};a(17);var se=992;const ne=Object(i.createContext)(w());var le=({children:e})=>{const[t,a]=Object(i.useState)(w());return Object(i.useEffect)((()=>{const e=()=>{a(w())};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[t]),Object(l.jsx)(ne.Provider,{value:t,children:e})},ce=a(9),de=a.n(ce);var ue=()=>{const[{showSidebar:e},t]=z(),{width:a}=Object(i.useContext)(ne),r=Object(i.useContext)(n.d),o=a<=se;return Object(i.useEffect)((()=>{o||e||t(F())}),[o]),Object(i.useEffect)((()=>r.resize()),[e]),o?Object(l.jsx)("div",{className:de.a["sidebar-toggle"],children:Object(l.jsx)("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group",children:Object(l.jsx)("button",{className:"mapboxgl-ctrl-geolocate",onClick:()=>t(F()),children:e?">":"<"})})}):Object(l.jsx)(l.Fragment,{})};const ye="mapbox://styles/hcaog/ckr3qf0ot95xh17linukv86ts";var be=()=>{var e;const[t]=z(),[a]=q(),[r,o]=Object(i.useState)(),[s,u]=Object(i.useState)(d),[y,b]=Object(i.useState)(),p=()=>b((()=>null)),m=e=>Object(i.useCallback)((({features:t,lngLat:a})=>{b((()=>{var i;return{type:e,...a,info:null===(i=t[0])||void 0===i?void 0:i.properties}}))}),[e]),j=m("route"),f=m("connector"),g=m("icon"),v=m("pcb"),x=()=>o(null),C=()=>o("pointer"),w=oe(O.layers,a,t.focusedLayer),L=oe(_.layers,a,t.focusedLayer,null===(e=O.layers.slice(-1)[0])||void 0===e?void 0:e.id),N=oe(k.layers,a,t.focusedLayer),A=oe(I.layers,a,t.focusedLayer),T=[{..._.source,layers:L,onLayerClick:j},{...k.source,layers:N,onLayerClick:f},{...I.source,layers:A,onLayerClick:v},{...O.source,layers:w,onLayerClick:g}];return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsxs)(n.h,{accessToken:"pk.eyJ1IjoiaGNhb2ciLCJhIjoiY2t0YTg3aTZxMWpocTJ1bzBlZjRlZ3JibiJ9.a9XIeW1dclDUiW_bDH-7_A",mapStyle:ye,onClick:p,onViewportChange:u,cursorStyle:r,...s,children:[T.map((({layers:e,onLayerClick:a,...r})=>{const o=e.map((e=>t.focusedLayer===e.id?(e=>{switch(e.type){case"symbol":return{...e,layout:{...e.layout,"icon-size":re.symbol}};case"line":return{...e,paint:{...e.paint,"line-width":h(re.line)}}}})(e):e)).map((e=>Object(l.jsx)(n.c,{...e,onClick:a,onHover:C,onLeave:x},e.id)));return o.length?Object(i.createElement)(n.g,{...r,key:r.id},o):null})).filter((e=>e)),y&&Object(l.jsx)(n.f,{latitude:y.lat,longitude:y.lng,closeButton:!1,closeOnClick:!1,className:"selectedFeaturePopup",onClose:p,children:Object(l.jsx)(c,{...y})}),Object(l.jsx)(n.e,{showZoom:!0,position:"top-right"}),Object(l.jsx)(n.b,{}),Object(l.jsx)(n.a,{position:"bottom-right",customAttribution:"HCAOG",compact:!0}),Object(l.jsx)(ue,{})]}),Object(l.jsx)(ie,{show:t.showSidebar})]})};var pe=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,20)).then((({getCLS:t,getFID:a,getFCP:i,getLCP:r,getTTFB:o})=>{t(e),a(e),i(e),r(e),o(e)}))};a(18);s.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(R,{children:Object(l.jsx)(le,{children:Object(l.jsx)(D,{children:Object(l.jsx)(be,{})})})})}),document.getElementById("root")),pe()}],[[19,1,2]]]);
//# sourceMappingURL=main.9b579b70.chunk.js.map