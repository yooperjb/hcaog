{"version":3,"sources":["components/LayerToggle/style.module.css","components/Sidebar/style.module.css","components/ToolTip/style.module.css","components/LayerToggleGroup/style.module.css","components/SidebarControl/style.module.css","components/FeatureInfo/index.js","config/map.js","config/sources.js","config/layers.js","images/logo.png","util/window.js","contexts/GlobalContext/actions.js","contexts/GlobalContext/reducer.js","contexts/GlobalContext/index.js","contexts/LayerVisibilityContext/actions.js","contexts/LayerVisibilityContext/reducer.js","contexts/LayerVisibilityContext/index.js","components/ToolTip/index.js","components/LayerToggle/index.js","components/LayerToggleGroup/index.js","components/Sidebar/index.js","util/layers.js","config/breakpoints.js","contexts/ViewPortContext/index.js","components/SidebarControl/index.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","FeatureInfo","type","info","typeProperty","useMemo","body","Bikes_Allowed","Location","Website","target","href","rel","Name","MAP_DEFAULTS","latitude","longitude","zoom","SOURCES","get","id","url","SOURCE_LAYERS","LAYER_WEIGHTS","calculateLineWidth","width","makeLayerGenerator","sourceId","sourceLayerId","layout","baseLayout","paint","basePaint","filter","layerName","source","makeLineLayerGenerator","buildIconLayer","makeSymbolLayerGenerator","buildRouteLayer","buildConnectorLayer","buildPcbLayer","ICONS","layers","map","details","name","ROUTES","description","CONNECTORS","PCB","getViewPort","innerWidth","innerHeight","height","window","setFocusedLayer","layer","value","clearFocusedLayer","showSidebar","hideSidebar","toggleSidebar","state","focusedLayer","undefined","initialState","GlobalContext","createContext","GlobalProvider","children","globalState","dispatch","useReducer","reducer","Provider","useGlobals","useContext","toggleVisibility","ClassI","ClassII","ClassIII","Trail","LayerVisibilityContext","LayerVisibilityContextProvider","visibilityState","useLayerVisibility","setOffset","offset","document","documentElement","style","setProperty","removeProperty","ToolTip","text","direction","tooltipRef","useRef","className","styles","onMouseEnter","current","rect","getBoundingClientRect","deltaX","Math","floor","min","right","onMouseLeave","ref","LayerToggle","layerId","dispatchGlobals","layerVisibility","dispatchVisibility","focus","unfocus","onClick","onTouchEnd","onTouchStart","onTouchCancel","defaultChecked","htmlFor","LayerToggleGroup","header","Sidebar","show","layerToggleGroups","toggleType","src","logo","alt","i","Object","entries","LAYER_FOCUS_WEIGHTS","symbol","line","filterVisibleLayers","focusedLayerId","baseLayerId","visibleLayers","layersOrderedByFocus","sort","ai","a","bi","b","Array","from","before","ViewPortContext","ViewPortProvider","viewPort","setViewPort","useState","useEffect","onResize","addEventListener","removeEventListener","SidebarControl","MapContext","showControl","Breakpoints","resize","App","globals","cursorStyle","setCursorStyle","viewport","setViewport","selectedFeature","setSelectedFeature","clearSelectedFeature","onFeatureClick","useCallback","features","lngLat","properties","onRouteFeatureClick","onConnectorFeatureClick","onIconFeatureClick","onPCBFeatureClick","resetCursor","setPointerCursor","iconLayers","routeLayers","slice","connectorLayers","pcbLayers","mapLayerSources","onLayerClick","accessToken","process","mapStyle","onViewportChange","filteredLayers","applyFocusStyleToLayer","onHover","onLeave","length","key","lat","lng","closeButton","closeOnClick","onClose","showZoom","position","customAttribution","compact","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9b579b70.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"layer-toggle\":\"style_layer-toggle__1Ve87\",\"layer-checkbox\":\"style_layer-checkbox__2k3sd\",\"line\":\"style_line__WqDAE\",\"ClassI\":\"style_ClassI__30Qrr\",\"ClassII\":\"style_ClassII__2hfiF\",\"ClassIII\":\"style_ClassIII__1lxDv\",\"Trail\":\"style_Trail__2Cez4\",\"Advanced\":\"style_Advanced__2zHBE\",\"Intermediate\":\"style_Intermediate__1kIf6\",\"Family\":\"style_Family__3aRwf\",\"Official\":\"style_Official__3OyHu\",\"Alternative\":\"style_Alternative__1o_PS\",\"icon\":\"style_icon__nJFy-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"style_sidebar__20YO8\",\"hidden\":\"style_hidden__1XlB_\",\"logo\":\"style_logo__1e-ND\",\"summary\":\"style_summary__3lUAu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tooltip-wrapper\":\"style_tooltip-wrapper__3fm7M\",\"tooltip-text\":\"style_tooltip-text__2NP0t\",\"visible\":\"style_visible__1BmWb\",\"tooltip-top\":\"style_tooltip-top__1aRl1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layer-group-header\":\"style_layer-group-header__2VGaN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar-toggle\":\"style_sidebar-toggle__30Ict\"};","import PropTypes from 'prop-types';\r\nimport { useMemo } from 'react';\r\n\r\nexport const FeatureInfo = ({ type, info }) => {\r\n  const typeProperty = useMemo(\r\n    () => type === 'route' ? 'type_2021' : 'Type',\r\n    [type]\r\n  );\r\n  const body = useMemo(\r\n    () => {\r\n      switch (type) {\r\n      case 'route':\r\n        return (\r\n          <p> Bike Allowed: {info.Bikes_Allowed} </p>\r\n        );\r\n      case 'icon':\r\n        return (\r\n          <>\r\n            <p>{info.Location}</p>\r\n            {\r\n              info.Website && (\r\n                <p>\r\n                  <a\r\n                    target=\"_blank\"\r\n                    href={info.Website}\r\n                    rel=\"noreferrer\">\r\n                    Website\r\n                  </a>\r\n                </p>\r\n              )\r\n            }\r\n          </>\r\n        );\r\n      }\r\n    },\r\n    [type, info]\r\n  );\r\n  return (\r\n    <div>\r\n      <h3>{info[typeProperty]}</h3>\r\n      <p>{info.Name}</p>\r\n      {body}\r\n    </div>\r\n  );\r\n};\r\n\r\nFeatureInfo.propTypes = {\r\n  type: PropTypes.string.isRequired,\r\n  info: PropTypes.shape({\r\n    Name: PropTypes.string,\r\n    Location: PropTypes.string,\r\n    Website: PropTypes.string,\r\n    Bikes_Allowed: PropTypes.string,\r\n  }).isRequired,\r\n};\r\n\r\nexport default FeatureInfo;","export const MAP_DEFAULTS = {\r\n  viewport: {\r\n    latitude: 40.7450,\r\n    longitude: -123.8695,\r\n    zoom: 8,\r\n  }\r\n};","export const SOURCES = {\r\n  get: (id) => ({ ...SOURCES[id], id}),\r\n  'bike-points': {\r\n    id: 'bike-points',\r\n    type: 'vector',\r\n    url: 'mapbox://hcaog.4f94k5tj',\r\n  },\r\n  'bike-routes': {\r\n    id: 'bike-routes',\r\n    type: 'vector',\r\n    url: 'mapbox://hcaog.1nksq7lv',\r\n  },\r\n  'connectors': {\r\n    id: 'connectors',\r\n    type: 'vector',\r\n    url: 'mapbox://hcaog.digdwntd'\r\n  },\r\n  'pcb': {\r\n    id: 'pcb',\r\n    type: 'vector',\r\n    url: 'mapbox://hcaog.6vx5ufzz'\r\n  }\r\n};\r\n\r\nexport const SOURCE_LAYERS = {\r\n  'bike-points': 'bike_points-0g9ncs',\r\n  'bike-routes': 'bike_routes-4e3370',\r\n  'connectors': 'connectors-7o42gn',\r\n  'pcb': 'PCB_full-4s2gb0'\r\n};\r\n","import { MAP_DEFAULTS } from './map';\r\nimport { SOURCES, SOURCE_LAYERS } from './sources';\r\n\r\n// Set default symbol and line size\r\nexport const LAYER_WEIGHTS = {\r\n  symbol: 1,\r\n  line: 2,\r\n};\r\n\r\nexport const calculateLineWidth = (width) => [\r\n  'interpolate', \r\n  ['linear'], \r\n  ['zoom'],\r\n  MAP_DEFAULTS.viewport.zoom, width, \r\n  MAP_DEFAULTS.viewport.zoom + 8, width*2, \r\n  MAP_DEFAULTS.viewport.zoom + 16, width * 4\r\n];\r\n\r\nconst makeLayerGenerator = ({\r\n  type,\r\n  sourceId,\r\n  sourceLayerId,\r\n  layout: baseLayout,\r\n  paint: basePaint,\r\n  filter\r\n}) =>  {\r\n  return ({ id, layerName, layout, paint }) => ({\r\n    id,\r\n    type,\r\n    source: sourceId,\r\n    'source-layer': SOURCE_LAYERS[sourceLayerId],\r\n    layout: {\r\n      ...baseLayout,\r\n      ...layout\r\n    },\r\n    paint: {\r\n      ...basePaint,\r\n      ...paint\r\n    },\r\n    filter: filter(layerName),\r\n  }\r\n  );\r\n};\r\n\r\nconst makeSymbolLayerGenerator = ({\r\n  sourceId,\r\n  sourceLayerId,\r\n  filter\r\n}) => makeLayerGenerator({\r\n  type: 'symbol',\r\n  sourceId,\r\n  sourceLayerId,\r\n  layout: {\r\n    'icon-size': LAYER_WEIGHTS.symbol,\r\n    'icon-allow-overlap': false,\r\n    'visibility': 'visible',\r\n    \r\n  },\r\n  paint: {\r\n    // 'icon-opacity': 1,\r\n  },\r\n  filter\r\n});\r\n\r\nconst makeLineLayerGenerator = ({\r\n  sourceId,\r\n  sourceLayerId,\r\n  filter\r\n}) => makeLayerGenerator({\r\n  type: 'line',\r\n  sourceId,\r\n  sourceLayerId,\r\n  layout: {\r\n    'line-cap': 'round',\r\n    'line-join': 'round',\r\n    'visibility': 'visible'\r\n  },\r\n  paint: {\r\n    'line-width': calculateLineWidth(LAYER_WEIGHTS.line),\r\n  },\r\n  filter\r\n});\r\n\r\n// create bike points ICON layer\r\nconst buildIconLayer = makeSymbolLayerGenerator({\r\n  sourceId: 'bike-points',\r\n  sourceLayerId: 'bike-points',\r\n  filter: (layerName) => ['==', 'Type', layerName]\r\n});\r\n\r\n// create bike routes layer\r\nconst buildRouteLayer = makeLineLayerGenerator({\r\n  sourceId: 'bike-routes',\r\n  sourceLayerId: 'bike-routes',\r\n  filter: (layerName) => ['==', 'type_2021', layerName]\r\n});\r\n\r\n// create connector routes layer\r\nconst buildConnectorLayer = makeLineLayerGenerator({\r\n  sourceId: 'connectors',\r\n  sourceLayerId: 'connectors',\r\n  filter: (layerName) => ['==', 'Type', layerName]\r\n});\r\n\r\n// create pacific coast bike route layer\r\nconst buildPcbLayer = makeLineLayerGenerator({\r\n  sourceId: 'pcb',\r\n  sourceLayerId: 'pcb',\r\n  filter: (layerName) => ['==', 'Status', layerName]\r\n});\r\n\r\n// ICON layer for bike points\r\nexport const ICONS = {\r\n  source: SOURCES.get('bike-points'),\r\n  layers: [\r\n    {\r\n      id: 'bike-shops',\r\n      layout:{\r\n        'icon-image': 'hcaog-hardware-15'},\r\n      paint: {\r\n        'icon-color': 'black',\r\n      },\r\n      layerName: 'Bicycle Shop'\r\n    },\r\n    {\r\n      id: 'rental',\r\n      layout:{\r\n        'icon-image': 'hcaog-bicycle-15'},\r\n      paint: {\r\n        'icon-color': 'black',\r\n      },\r\n      layerName: 'Rental'\r\n    },\r\n    {\r\n      id: 'tool-station',\r\n      layout:{\r\n        'icon-image': 'hardware-15'\r\n      },\r\n      layerName: 'Tool Station'\r\n    },\r\n  ].map(buildIconLayer),\r\n  details: {\r\n    'bike-shops': {\r\n      name: 'Bike Shop'\r\n    },\r\n    'rental': {\r\n      name: 'Bike Rental'\r\n    },\r\n    'tool-station': {\r\n      name: 'Tool Station'\r\n    },\r\n  }\r\n};\r\n\r\n// ROUTES layer for Class I,II,III routes\r\nexport const ROUTES = {\r\n  source: SOURCES.get('bike-routes'),\r\n  layers: [\r\n    {\r\n      id: 'ClassI', \r\n      paint: {\r\n        'line-color': '#2fa021',\r\n      },\r\n      layerName: 'Existing Class I',\r\n    },\r\n    {\r\n      id: 'ClassII', \r\n      paint: {\r\n        'line-color': '#103ca1',\r\n      },\r\n      layerName: 'Existing Class II',\r\n    },\r\n    {\r\n      id: 'ClassIII', \r\n      paint: {\r\n        'line-color': '#fa8807',\r\n      },\r\n      layerName: 'Existing Class III',\r\n    },\r\n    {\r\n      id: 'Trail', \r\n      paint: {\r\n        'line-color': '#baa77c',\r\n        'line-dasharray': [1,2],\r\n        //\"line-opacity\": 1,\r\n      },\r\n      layerName: 'Existing Trail',\r\n    },\r\n  ].map(buildRouteLayer),\r\n  details: {\r\n    'ClassI': {\r\n      name: 'Multi-use Path',\r\n      description: 'A separated paved path for bicycles and pedestrians.'\r\n    },\r\n    'ClassII': {\r\n      name: 'Bike Lane',\r\n      description: 'A restricted right-of-way for bicycles along the side of a street (typically 5 feet wide). A thick white line separates the auto and bike lanes. Motor vehicles may merge into these lanes to make turns.'\r\n    },\r\n    'ClassIII': {\r\n      name: 'Shared Road',\r\n      description: 'A travel lane shared by bicycles and motor vehicles designated only by signs or pavement markings. This type of facility mainly informs motorists of preferred cycling routes.'\r\n    },\r\n    'Trail': {\r\n      name: 'Natural Surface Trails',\r\n      description: 'A dirt or gravel single-track paths that are bicycle compatible.'\r\n    },\r\n  }\r\n};\r\n\r\n// CONNECTORS layer for city/rural connections\r\nexport const CONNECTORS = {\r\n  source: SOURCES.get('connectors'),\r\n  layers: [\r\n    {\r\n      id: 'Family Friendly', \r\n      paint: {\r\n        'line-color': 'green',\r\n        'line-dasharray': [1,2],\r\n      },\r\n      layerName: 'Family Friendly',\r\n      // layerName: 'Family-Friendly',\r\n    },\r\n    {\r\n      id: 'Intermediate', \r\n      paint: {\r\n        'line-color': '#2b47a1',\r\n        'line-dasharray': [1,2],\r\n      },\r\n      layerName: 'Intermediate',\r\n    },\r\n    {\r\n      id: 'Advanced', \r\n      paint: {\r\n        'line-color': '#871f1f',\r\n        'line-dasharray': [1,2],\r\n      },\r\n      layerName: 'Advanced',\r\n    },\r\n  ].map(buildConnectorLayer),\r\n  details: {\r\n    'Family Friendly': {\r\n      name: 'Family-Friendly',\r\n      description:'Family friendly connector routes.'\r\n    },\r\n    'Intermediate': {\r\n      name: 'Intermediate',\r\n      description:'Intermediate connector routes that are a little more difficult than famiy-friendly routes.'\r\n    },\r\n    'Advanced': {\r\n      name: 'Advanced',\r\n      description:'Advanced connector routes that typically involves more traffic and may require advanced bike skills.'\r\n    },\r\n  }\r\n};\r\n\r\n// PCB layer for official and alt routes\r\nexport const PCB = {\r\n  source: SOURCES.get('pcb'),\r\n  layers: [\r\n    {\r\n      id: 'Official', \r\n      paint: {\r\n        'line-color': 'black',\r\n      },\r\n      layerName: 'Official',\r\n    },\r\n    {\r\n      id: 'Alternative', \r\n      paint: {\r\n        'line-color': 'gray',\r\n      },\r\n      layerName: 'Alternative',\r\n    },\r\n  ].map(buildPcbLayer),\r\n  details: {\r\n    'Official': {\r\n      name: 'Official',\r\n      description:'Official Pacific Coast Bike Route.'\r\n    },\r\n    'Alternative': {\r\n      name: 'Alternative',\r\n      description:'Alternative Pacific Coast Bike Route segments.'\r\n    },\r\n  }\r\n};\r\n\r\nexport default { icons:ICONS, routes:ROUTES, connectors:CONNECTORS, pcb:PCB  };\r\n","export default __webpack_public_path__ + \"static/media/logo.3d93fbe4.png\";","export const getViewPort = () => {\r\n  const { innerWidth: width, innerHeight: height } = window;\r\n  return { width, height };\r\n};","/**\r\n * @param {string} layer - layer to focus\r\n */\r\nexport const setFocusedLayer = (layer) => {\r\n  return {\r\n    type: setFocusedLayer,\r\n    value: layer\r\n  };\r\n};\r\n/**\r\n */\r\nexport const clearFocusedLayer = () => {\r\n  return {\r\n    type: clearFocusedLayer\r\n  };\r\n};\r\n/**\r\n */\r\nexport const showSidebar = () => {\r\n  return {\r\n    type: showSidebar\r\n  };\r\n};\r\n\r\n/**\r\n */\r\nexport const hideSidebar = () => {\r\n  return {\r\n    type: hideSidebar\r\n  };\r\n};\r\n\r\n/**\r\n */\r\nexport const toggleSidebar = () => {\r\n  return {\r\n    type: toggleSidebar\r\n  };\r\n};","import { setFocusedLayer, clearFocusedLayer, showSidebar, hideSidebar, toggleSidebar } from './actions';\r\n\r\nexport default (state, {type, value}) => {\r\n  switch (type) {\r\n  case setFocusedLayer:\r\n    return { ...state, focusedLayer: value };\r\n  case clearFocusedLayer:\r\n    return { ...state, focusedLayer: undefined };\r\n  case showSidebar:\r\n    return {...state, showSidebar: true};\r\n  case hideSidebar:\r\n    return {...state, showSidebar: false};\r\n  case toggleSidebar:\r\n    return {...state, showSidebar: !state.showSidebar};\r\n  }\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport { createContext, useContext, useReducer } from 'react';\r\nimport { getViewPort } from '../../util/window';\r\nimport reducer from './reducer';\r\n\r\nconst { width } = getViewPort();\r\n\r\nconst initialState = {\r\n  showSidebar: width > 600,\r\n  focusedLayer: 'class1',\r\n};\r\n\r\nconst GlobalContext = createContext(initialState);\r\n\r\nexport * from './actions';\r\n\r\nexport const GlobalProvider = ({children}) => {\r\n  const [globalState, dispatch] = useReducer(reducer, initialState);\r\n\r\n  return (\r\n    <GlobalContext.Provider value={[globalState, dispatch]}>\r\n      {children}\r\n    </GlobalContext.Provider>\r\n  );\r\n};\r\n\r\nGlobalProvider.propTypes = {\r\n  children: PropTypes.element.isRequired\r\n};\r\n\r\nexport const useGlobals = () => useContext(GlobalContext);\r\n\r\nexport default GlobalProvider;\r\n","/**\r\n * @param {string} layer - the layer to toggle visibility for\r\n */\r\nexport const toggleVisibility = (layer) => {\r\n  return {\r\n    type: toggleVisibility,\r\n    value: layer\r\n  };\r\n};\r\n","import { toggleVisibility } from './actions';\r\n\r\nexport default (state, {type, value}) => {\r\n  switch (type) {\r\n  case toggleVisibility:\r\n\r\n    return { ...state, [value]: !state[value] };\r\n  }\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport { createContext, useContext, useReducer } from 'react';\r\nimport reducer from './reducer';\r\n\r\nconst initialState = {\r\n  ClassI: true,\r\n  ClassII: true,\r\n  ClassIII: true,\r\n  Trail: true,\r\n  'rental': true,\r\n  'bike-shops': true,\r\n  'tool-station': true,\r\n  'Official': false,\r\n  'Alternative': false\r\n};\r\n\r\nconst LayerVisibilityContext = createContext(initialState);\r\n\r\nexport * from './actions';\r\n\r\nexport const LayerVisibilityContextProvider = ({children}) => {\r\n  const [visibilityState, dispatch] = useReducer(reducer, initialState);\r\n\r\n  return (\r\n    <LayerVisibilityContext.Provider value={[visibilityState, dispatch]}>\r\n      {children}\r\n    </LayerVisibilityContext.Provider>\r\n  );\r\n};\r\n\r\nLayerVisibilityContextProvider.propTypes = {\r\n  children: PropTypes.element.isRequired\r\n};\r\n\r\nexport const useLayerVisibility = () => useContext(LayerVisibilityContext);\r\n\r\nexport default LayerVisibilityContextProvider;\r\n","import PropTypes from 'prop-types';\r\nimport { useRef } from 'react';\r\nimport styles from './style.module.css';\r\n\r\nconst setOffset = (offset) => offset\r\n  ? document.documentElement.style.setProperty('--tooltip-offset', `${offset}px`)\r\n  : document.documentElement.style.removeProperty('--tooltip-offset');\r\n\r\nconst ToolTip = ({text, direction, children}) => {\r\n  const tooltipRef = useRef();\r\n  const updateOffset = () => {\r\n    if (!tooltipRef.current) return;\r\n    const rect = tooltipRef.current.getBoundingClientRect();\r\n    const deltaX = Math.floor(Math.min(0, window.innerWidth - rect.right));\r\n    setOffset(deltaX);\r\n  };\r\n  const clearOffset = () => setOffset(0);\r\n  return (\r\n    <span\r\n      className={`${styles['tooltip-wrapper']} ${styles['tooltip-' + direction]}`}\r\n      onMouseEnter={updateOffset}\r\n      onMouseLeave={clearOffset}\r\n    >\r\n      {children}\r\n      <div\r\n        className={styles['tooltip-text']}\r\n        ref={tooltipRef}\r\n      >\r\n        {text}\r\n      </div>\r\n    </span>\r\n  );\r\n};\r\n\r\nToolTip.propTypes = {\r\n  text: PropTypes.string.isRequired,\r\n  direction: PropTypes.oneOf(['top', 'bottom', 'left', 'right']).isRequired,\r\n  children: PropTypes.node.isRequired\r\n};\r\n\r\nexport default ToolTip;\r\n","import PropTypes from 'prop-types';\r\nimport { clearFocusedLayer, setFocusedLayer, useGlobals } from '../../contexts/GlobalContext';\r\nimport { toggleVisibility, useLayerVisibility } from '../../contexts/LayerVisibilityContext';\r\nimport ToolTip from '../ToolTip';\r\nimport styles from './style.module.css';\r\n\r\nconst LayerToggle = ({ layerId, details: { name, description }, type = 'icon' }) => {\r\n  const [, dispatchGlobals] = useGlobals();\r\n  const [layerVisibility, dispatchVisibility] = useLayerVisibility();\r\n  const toggle = () => dispatchVisibility(toggleVisibility(layerId));\r\n  const focus = () => dispatchGlobals(setFocusedLayer(layerId));\r\n  const unfocus = () => dispatchGlobals(clearFocusedLayer(layerId));\r\n  \r\n  return (\r\n    <div\r\n      className={styles['layer-toggle']}\r\n    >\r\n      <span \r\n        onClick={toggle}\r\n        onMouseEnter={focus}\r\n        onMouseLeave={unfocus}\r\n        onTouchEnd={unfocus}\r\n        onTouchStart={focus}\r\n        onTouchCancel={unfocus}\r\n      >\r\n        <div className={styles['layer-checkbox']}>\r\n          <input\r\n            type=\"checkbox\"\r\n            className={`${styles[type]} ${styles[layerId]}`}\r\n            defaultChecked={layerVisibility[layerId]}\r\n          />\r\n        </div>\r\n        <label htmlFor={styles[layerId]}>{name}</label>\r\n      </span>\r\n      {description && <ToolTip text={description} direction=\"top\"><i className=\"fa fa-info-circle\"></i></ToolTip>}\r\n    </div>\r\n  );\r\n};\r\n\r\nLayerToggle.propTypes = {\r\n  layerId: PropTypes.string.isRequired,\r\n  details: PropTypes.shape({\r\n    name: PropTypes.string.isRequired,\r\n    description: PropTypes.string,\r\n  }).isRequired,\r\n  type: PropTypes.string,\r\n};\r\n\r\nexport default LayerToggle;\r\n","import PropTypes from 'prop-types';\r\nimport styles from './style.module.css';\r\n\r\nconst LayerToggleGroup = ({header, children}) => (\r\n  <>\r\n    {header && <h3 className={styles['layer-group-header']}>{header}</h3>}\r\n    {children}\r\n  </>\r\n);\r\n\r\nLayerToggleGroup.propTypes = {\r\n  header: PropTypes.string,\r\n  children: PropTypes.any,\r\n};\r\n\r\nexport default LayerToggleGroup;","import PropTypes from 'prop-types';\r\nimport { CONNECTORS, ICONS, ROUTES, PCB } from '../../config/layers';\r\nimport logo from '../../images/logo.png';\r\nimport LayerToggle from '../LayerToggle';\r\nimport LayerToggleGroup from '../LayerToggleGroup';\r\nimport styles from './style.module.css';\r\n\r\nconst Sidebar = ({show}) => {\r\n  const layerToggleGroups = [\r\n    {\r\n      details:ROUTES.details,\r\n      header: 'Existing Bike Routes',\r\n      toggleType: 'line'\r\n    },\r\n    {\r\n      details:ICONS.details,\r\n    },\r\n    {\r\n      details:CONNECTORS.details,\r\n      header: 'Connector Routes',\r\n      toggleType: 'line'\r\n    },\r\n    {\r\n      details:PCB.details,\r\n      header: 'Pacific Coast Bike Route',\r\n      toggleType: 'line'\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      <div className={styles['sidebar'] + (show ? '' : ` ${styles['hidden']}`)}>\r\n        <div className={styles['logo']}>\r\n          <img src={logo} alt=\"HCAGO Logo\" />\r\n        </div>\r\n        <div className={styles['summary']}>\r\n          <p>\r\n            Humboldt County offers incredible bike opportunities for\r\n            visitors and locals alike. Find a new way to commute to work,\r\n            explore the countryside, an adventurous mountain bike ride,\r\n            and more!\r\n          </p>\r\n          <p>\r\n            To learn more about Humboldt County Bike Routes click\r\n            <a target=\"_blank\" href=\"https://www.hcaog.net/documents/humboldt-regional-bicycle-plan-2018\" rel=\"noreferrer\">here</a>.\r\n          </p>\r\n        </div>\r\n        {\r\n          layerToggleGroups.map(({header, details, toggleType}, i) => (\r\n            <LayerToggleGroup key={header ?? i} header={header}>\r\n              {\r\n                Object.entries(details)\r\n                  .map(([layerId, details]) => (\r\n                    <LayerToggle\r\n                      key={layerId}\r\n                      layerId={layerId}\r\n                      details={details}\r\n                      type={toggleType}\r\n                    />\r\n                  ))\r\n              }\r\n            </LayerToggleGroup>\r\n          ))\r\n        }\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nSidebar.propTypes = {\r\n  show: PropTypes.bool\r\n};\r\n\r\nexport default Sidebar;\r\n","import { useMemo } from 'react';\r\nimport { LAYER_WEIGHTS, calculateLineWidth } from '../config/layers';\r\n\r\nconst LAYER_FOCUS_WEIGHTS = {\r\n  symbol: LAYER_WEIGHTS.symbol * 1.5,\r\n  line: LAYER_WEIGHTS.line * 2,\r\n};\r\n\r\nexport const filterVisibleLayers = (\r\n  layers,\r\n  layerVisibility,\r\n  focusedLayerId,\r\n  baseLayerId\r\n) => {\r\n  const visibleLayers = useMemo(\r\n    () => layers.filter((layer) => layerVisibility[layer.id]),\r\n    [layers, layerVisibility]\r\n  );\r\n  const layersOrderedByFocus = useMemo(\r\n    () => visibleLayers.map((layer, i) => [i, layer])\r\n      .sort(([ai, a], [bi, b]) => {\r\n        if (a.id == focusedLayerId) return -1;\r\n        if (b.id == focusedLayerId) return 1;\r\n        return ai - bi;\r\n      })\r\n      .map(([,layer]) => layer),\r\n    [visibleLayers, focusedLayerId]\r\n  );\r\n  return Array.from(\r\n    useMemo(\r\n      () => layersOrderedByFocus.map((layer, i, layers) => ({\r\n        ...layer,\r\n        before: layers[i - 1]?.id ?? baseLayerId\r\n      })),\r\n      [layersOrderedByFocus, baseLayerId]\r\n    )\r\n  );\r\n};\r\nexport const applyFocusStyleToLayer = (layer) => {\r\n  switch (layer.type) {\r\n  case 'symbol':\r\n    return { \r\n      ...layer,\r\n      layout:{\r\n        ...layer.layout,\r\n        'icon-size': LAYER_FOCUS_WEIGHTS.symbol\r\n      },\r\n    };\r\n  case 'line':\r\n    return { \r\n      ...layer,\r\n      paint: {\r\n        ...layer.paint,\r\n        'line-width': calculateLineWidth(LAYER_FOCUS_WEIGHTS.line),\r\n      }\r\n    };\r\n  }\r\n};\r\n","export default {\r\n  LARGE: 992\r\n};","import PropTypes from 'prop-types';\r\nimport { createContext, useContext, useEffect, useState } from 'react';\r\nimport { getViewPort } from '../../util/window';\r\n\r\nconst ViewPortContext = createContext(getViewPort());\r\n\r\nexport const ViewPortProvider = ({children}) => {\r\n  const [viewPort, setViewPort] = useState(getViewPort());\r\n\r\n  useEffect(() => {\r\n    const onResize = () => {\r\n      setViewPort(getViewPort());\r\n    };\r\n    window.addEventListener('resize', onResize);\r\n    return () => window.removeEventListener('resize', onResize);\r\n  }, [viewPort]);\r\n\r\n  return (\r\n    <ViewPortContext.Provider value={viewPort}>\r\n      {children}\r\n    </ViewPortContext.Provider>\r\n  );\r\n};\r\n\r\nViewPortProvider.propTypes = {\r\n  children: PropTypes.element.isRequired\r\n};\r\n\r\nexport const useViewPort = () => useContext(ViewPortContext);\r\n\r\nexport default ViewPortProvider;\r\n","import { MapContext } from '@urbica/react-map-gl';\r\nimport { useContext, useEffect } from 'react';\r\nimport Breakpoints from '../../config/breakpoints';\r\nimport { toggleSidebar, useGlobals } from '../../contexts/GlobalContext';\r\nimport { useViewPort } from '../../contexts/ViewPortContext';\r\nimport styles from './style.module.css';\r\n\r\nconst SidebarControl = () => {\r\n  const [{showSidebar}, dispatch] = useGlobals();\r\n  const {width} = useViewPort();\r\n  const map = useContext(MapContext);\r\n\r\n\r\n  const onClick = () => dispatch(toggleSidebar());\r\n  const showControl = width <= Breakpoints.LARGE;\r\n\r\n  useEffect(() => {\r\n    if (showControl) return;\r\n    if (showSidebar) return;\r\n    dispatch(toggleSidebar());\r\n  }, [showControl]);\r\n  useEffect(() => map.resize(), [showSidebar]);\r\n\r\n  if (!showControl) return <></>;\r\n\r\n  return (\r\n    <div className={styles['sidebar-toggle']}>\r\n      <div className=\"mapboxgl-ctrl mapboxgl-ctrl-group\">\r\n        <button className=\"mapboxgl-ctrl-geolocate\" onClick={onClick}>\r\n          {showSidebar ? '>' : '<'}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SidebarControl;","import React, { useCallback, useState } from 'react';\r\nimport MapGL, { GeolocateControl, Layer, NavigationControl, Popup, Source, AttributionControl } from '@urbica/react-map-gl';\r\n\r\nimport FeatureInfo from './components/FeatureInfo';\r\nimport Sidebar from './components/Sidebar';\r\n\r\nimport { MAP_DEFAULTS } from './config/map';\r\nimport { ICONS, ROUTES, CONNECTORS, PCB } from './config/layers.js';\r\n\r\nimport { useGlobals } from './contexts/GlobalContext';\r\nimport { useLayerVisibility } from './contexts/LayerVisibilityContext';\r\n\r\nimport { applyFocusStyleToLayer, filterVisibleLayers } from './util/layers';\r\n\r\nimport './App.css';\r\nimport SidebarControl from './components/SidebarControl';\r\n\r\n// mayStyle choices\r\nconst styles = {\r\n  light: 'mapbox://styles/hcaog/ckr3qf0ot95xh17linukv86ts'\r\n};\r\n\r\nconst App  = () => {\r\n  const [globals] = useGlobals();\r\n  const [ layerVisibility ] = useLayerVisibility();\r\n\r\n  const [cursorStyle, setCursorStyle] = useState();\r\n  const [viewport, setViewport] = useState(MAP_DEFAULTS.viewport);\r\n  \r\n  const [selectedFeature, setSelectedFeature] = useState();\r\n\r\n  const clearSelectedFeature = () => setSelectedFeature(() => null);\r\n\r\n  const onFeatureClick = (type) => useCallback(({features, lngLat}) => {\r\n    setSelectedFeature(() => ({\r\n      type,\r\n      ...lngLat,\r\n      info: features[0]?.properties,\r\n    }));\r\n  }, [type]);\r\n  const onRouteFeatureClick = onFeatureClick('route');\r\n  const onConnectorFeatureClick = onFeatureClick('connector');\r\n  const onIconFeatureClick = onFeatureClick('icon');\r\n  const onPCBFeatureClick = onFeatureClick('pcb');\r\n\r\n  const resetCursor = () => setCursorStyle(null);\r\n  const setPointerCursor = () => setCursorStyle('pointer');\r\n\r\n  const iconLayers = filterVisibleLayers(\r\n    ICONS.layers,\r\n    layerVisibility,\r\n    globals.focusedLayer\r\n  );\r\n  \r\n  const routeLayers = filterVisibleLayers(\r\n    ROUTES.layers,\r\n    layerVisibility,\r\n    globals.focusedLayer,\r\n    ICONS.layers.slice(-1)[0]?.id\r\n  );\r\n\r\n  const connectorLayers = filterVisibleLayers(\r\n    CONNECTORS.layers,\r\n    layerVisibility,\r\n    globals.focusedLayer\r\n  );\r\n\r\n  const pcbLayers = filterVisibleLayers(\r\n    PCB.layers,\r\n    layerVisibility,\r\n    globals.focusedLayer\r\n  );\r\n\r\n  const mapLayerSources = [\r\n    {\r\n      ...ROUTES.source,\r\n      layers: routeLayers,\r\n      onLayerClick: onRouteFeatureClick\r\n    },\r\n    {\r\n      ...CONNECTORS.source,\r\n      layers: connectorLayers,\r\n      onLayerClick: onConnectorFeatureClick\r\n    },\r\n    {\r\n      ...PCB.source,\r\n      layers: pcbLayers,\r\n      onLayerClick: onPCBFeatureClick\r\n    },\r\n    {\r\n      ...ICONS.source,\r\n      layers: iconLayers,\r\n      onLayerClick: onIconFeatureClick\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <MapGL\r\n        accessToken={process.env.REACT_APP_MAPBOX_TOKEN}\r\n        mapStyle={styles.light}\r\n        onClick={clearSelectedFeature}\r\n        onViewportChange={setViewport}\r\n        cursorStyle={cursorStyle}\r\n        {...viewport}\r\n      >\r\n        {\r\n          mapLayerSources.map(({layers, onLayerClick, ...source}) => {\r\n            const filteredLayers = layers\r\n              .map(layer =>\r\n                globals.focusedLayer === layer.id\r\n                  ? applyFocusStyleToLayer(layer)\r\n                  : layer\r\n              )\r\n              .map((layer) => (\r\n                <Layer\r\n                  key={layer.id}\r\n                  { ...layer }\r\n                  onClick={onLayerClick}\r\n                  onHover={setPointerCursor}\r\n                  onLeave={resetCursor}\r\n                />\r\n              ));\r\n            if (!filteredLayers.length) return null;\r\n            return (\r\n              <Source {...source} key={source.id} >\r\n                { filteredLayers }\r\n              </Source>\r\n            );\r\n          }).filter(source => source)\r\n            \r\n        }\r\n        \r\n        {\r\n          selectedFeature && (\r\n            <Popup\r\n              latitude={selectedFeature.lat}\r\n              longitude={selectedFeature.lng}\r\n              closeButton={false}\r\n              closeOnClick={false}\r\n              className=\"selectedFeaturePopup\"\r\n              onClose={clearSelectedFeature}>\r\n              <FeatureInfo {...selectedFeature} />\r\n            </Popup>\r\n          )\r\n        }\r\n\r\n        <NavigationControl showZoom position='top-right' />\r\n        <GeolocateControl></GeolocateControl>\r\n        <AttributionControl\r\n          position=\"bottom-right\"\r\n          customAttribution=\"HCAOG\"\r\n          compact={true}\r\n        />\r\n        <SidebarControl />\r\n      </MapGL>\r\n      <Sidebar show={globals.showSidebar}></Sidebar>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport { GlobalProvider } from './contexts/GlobalContext';\r\nimport { LayerVisibilityContextProvider } from './contexts/LayerVisibilityContext';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport './index.css';\r\nimport ViewPortProvider from './contexts/ViewPortContext';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <GlobalProvider>\r\n      <ViewPortProvider>\r\n        <LayerVisibilityContextProvider>\r\n          <App />\r\n        </LayerVisibilityContextProvider>\r\n      </ViewPortProvider>\r\n    </GlobalProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}