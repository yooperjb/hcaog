(this.webpackJsonphcaog=this.webpackJsonphcaog||[]).push([[0],[,,,function(e,t,s){e.exports={sidebar:"style_sidebar__20YO8",summary:"style_summary__3lUAu",logo:"style_logo__1e-ND",layers:"style_layers__2wW6l","layers-header":"style_layers-header__2EIjH"}},function(e,t,s){e.exports={"layer-toggle":"style_layer-toggle__1Ve87","layer-checkbox":"style_layer-checkbox__2k3sd",line:"style_line__WqDAE",ClassI:"style_ClassI__30Qrr",ClassII:"style_ClassII__2hfiF",ClassIII:"style_ClassIII__1lxDv",Trail:"style_Trail__2Cez4",icon:"style_icon__nJFy-"}},,function(e,t,s){e.exports={tooltip:"style_tooltip__4MSBX","tooltip-text":"style_tooltip-text__2NP0t",visible:"style_visible__1BmWb","tooltip-top":"style_tooltip-top__1aRl1"}},,,,,,,,function(e,t,s){},,function(e,t,s){},function(e,t,s){"use strict";s.r(t);var i=s(0),o=s.n(i),a=s(5),l=s.n(a),r=s(2);s(14);const n={get:e=>({...n[e],id:e}),"bike-points":{id:"bike-points",type:"vector",url:"mapbox://yooperjb.96kntbve"},"bike-routes":{id:"bike-routes",type:"vector",url:"mapbox://yooperjb.3kf292c5"}},c={"bike-points":"bike_points-8mbmdl","bike-routes":"bike_routes-2nr3p1"},d=1,u=3,b=({type:e,sourceId:t,sourceLayerId:s,layout:i,paint:o,filter:a})=>({id:l,layerName:r,layout:n,paint:d})=>({id:l,type:e,source:t,"source-layer":c[s],layout:{...i,...n},paint:{...o,...d},filter:a(r)}),y=(({sourceId:e,sourceLayerId:t,filter:s})=>b({type:"symbol",sourceId:e,sourceLayerId:t,layout:{"icon-size":d,"icon-allow-overlap":!0,visibility:"visible"},paint:{"icon-opacity":1},filter:s}))({sourceId:"bike-points",sourceLayerId:"bike-points",filter:e=>["==","Type",e]}),p=(({sourceId:e,sourceLayerId:t,filter:s})=>b({type:"line",sourceId:e,sourceLayerId:t,layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-width":u},filter:s}))({sourceId:"bike-routes",sourceLayerId:"bike-routes",filter:e=>["==","type_2021",e]}),j={source:n.get("bike-points"),layers:[{id:"bike-shops",icon:"hcaog-hardware-15",paint:{"icon-color":"black"},layerName:"Bicycle Shop"},{id:"bike-parking",icon:"hcaog-parking-15",paint:{"icon-color":"black"},layerName:"Bicycle Parking"},{id:"tool-station",icon:"hardware-15",layerName:"Tool Station"}].map(y),details:{"bike-shops":{name:"Bike Shops"},"bike-parking":{name:"Bike Parking"},"tool-station":{name:"Tool Station"}}},h={source:n.get("bike-routes"),layers:[{id:"ClassI",paint:{"line-color":"#b50707"},layerName:"Existing Class I"},{id:"ClassII",paint:{"line-color":"orange"},layerName:"Existing Class II"},{id:"ClassIII",paint:{"line-color":"#eded5c"},layerName:"Existing Class III"},{id:"Trail",paint:{"line-color":"#baa77c","line-dasharray":[1,3]},layerName:"Existing Trail"}].map(p),details:{ClassI:{name:"Class I Bike Route",description:"A separated paved path for bicycles and pedestrians."},ClassII:{name:"Class II Bike Route",description:"A restricted right-of-way for bicycles along the side of a street (typically 5 feet wide). A thick white line separates the auto and bike lanes. Motor vehicles may merge into these lanes to make turns."},ClassIII:{name:"Class III Bike Route",description:"A travel lane shared by bicycles and motor vehicles designated only by signs or pavement markings. This type of facility mainly informs motorists of preferred cycling routes."},Trail:{name:"Natural Surface Trails",description:"A dirt or gravel single-track paths that are bicycle compatible."}}},m={familyfriendly:{name:"Family Friendly"},intermediate:{name:"Intermediate"},advanced:{name:"Advanced"}};var x=s.p+"static/media/logo.3d93fbe4.png";const k=e=>({type:k,value:e}),O=()=>({type:O});var v=(e,{type:t,value:s})=>{switch(t){case k:return{...e,focusedLayer:s};case O:return{...e,focusedLayer:void 0}}},I=s(1);const g={focusedLayer:"class1"},f=Object(i.createContext)(g),_=({children:e})=>{const[t,s]=Object(i.useReducer)(v,g);return Object(I.jsx)(f.Provider,{value:[t,s],children:e})},C=()=>Object(i.useContext)(f);const N=e=>({type:N,value:e});var w=(e,{type:t,value:s})=>{switch(t){case N:return{...e,[s]:!e[s]}}};const L={ClassI:!0,ClassII:!0,ClassIII:!0,Trail:!0,"bike-parking":!0,"bike-shops":!0,"tool-station":!0},B=Object(i.createContext)(L),S=({children:e})=>{const[t,s]=Object(i.useReducer)(w,L);return Object(I.jsx)(B.Provider,{value:[t,s],children:e})},M=()=>Object(i.useContext)(B);var T=s(6),A=s.n(T);const E=e=>e?document.documentElement.style.setProperty("--tooltip-offset","".concat(e,"px")):document.documentElement.style.removeProperty("--tooltip-offset");var P=({text:e,direction:t,children:s})=>{const o=Object(i.useRef)();return Object(I.jsxs)("span",{className:"".concat(A.a.tooltip," ").concat(A.a["tooltip-"+t]),onMouseEnter:()=>{if(!o.current)return;const e=o.current.getBoundingClientRect(),t=Math.floor(Math.min(0,window.innerWidth-e.right));E(t)},onMouseLeave:()=>E(0),children:[s,Object(I.jsx)("div",{className:A.a["tooltip-text"],ref:o,children:e})]})},R=s(4),F=s.n(R);var W=({layerId:e,details:{name:t,description:s},type:i})=>{const[,o]=C(),[a,l]=M();return Object(I.jsxs)("div",{className:F.a["layer-toggle"],children:[Object(I.jsxs)("span",{onClick:()=>l(N(e)),onMouseEnter:()=>o(k(e)),onMouseLeave:()=>o(O(e)),children:[Object(I.jsx)("div",{className:F.a["layer-checkbox"],children:Object(I.jsx)("input",{type:"checkbox",className:"".concat(F.a[i]," ").concat(F.a[e]),defaultChecked:a[e]})}),Object(I.jsx)("label",{htmlFor:F.a[e],children:t})]}),s&&Object(I.jsxs)(P,{text:s,direction:"top",children:["\ud83d\udec8",Object(I.jsx)("strong",{})]})]})},J=s(3),z=s.n(J);var H=()=>Object(I.jsxs)("div",{className:z.a.sidebar,children:[Object(I.jsx)("div",{className:z.a.logo,children:Object(I.jsx)("img",{src:x,alt:"HCAGO Logo"})}),Object(I.jsxs)("div",{className:z.a.summary,children:[Object(I.jsx)("p",{children:"Humboldt County offers incredible bike opportunities for visitors and locals alike. Find a new way to commute to work, explore the countryside, an adventurous mountain bike ride, and more!"}),Object(I.jsxs)("p",{children:["To learn more about Humboldt County Bike Routes click",Object(I.jsx)("a",{target:"_blank",href:"https://www.hcaog.net/documents/humboldt-regional-bicycle-plan-2018",rel:"noreferrer",children:"here"}),"."]})]}),Object(I.jsxs)("div",{className:z.a.layers,children:[Object(I.jsx)("h3",{className:z.a["layers-header"],children:"Existing Bike Routes"}),Object.entries(h.details).map((([e,t])=>Object(I.jsx)(W,{layerId:e,details:t,type:"line"},e))),Object.entries(j.details).map((([e,t])=>Object(I.jsx)(W,{layerId:e,details:t,type:"icon"},e))),Object(I.jsx)("h3",{className:z.a["layers-header"],children:"Connector Routes"}),Object.entries(m).map((([e,t])=>Object(I.jsx)(W,{layerId:e,details:t,type:"icon"},e)))]})]});const D={symbol:1.5*d,line:2*u},V=(e,t,s,o)=>{const a=Object(i.useMemo)((()=>e.filter((e=>t[e.id]))),[e,t]),l=Object(i.useMemo)((()=>a.map(((e,t)=>[t,e])).sort((([e,t],[i,o])=>t.id==s?-1:o.id==s?1:e-i)).map((([,e])=>e))),[a,s]);return Array.from(Object(i.useMemo)((()=>l.map(((e,t,s)=>{var i,a;return{...e,before:null!==(i=null===(a=s[t-1])||void 0===a?void 0:a.id)&&void 0!==i?i:o}}))),[l,o]))},G=e=>{switch(e.type){case"symbol":return{...e,layout:{...e.layout,"icon-size":D.symbol}};case"line":return{...e,paint:{...e.paint,"line-width":D.line}}}};var Q=()=>{var e;const[t,s]=Object(i.useState)({latitude:40.745,longitude:-123.8695,zoom:8}),[o,a]=Object(i.useState)(null),[l,n]=Object(i.useState)(null),[c,d]=Object(i.useState)(null),[u,b]=Object(i.useState)(null),[y]=C(),[p]=M(),m=e=>{a(e.features[0].properties),d(e.lngLat)},x=e=>{n(e.features[0].properties),d(e.lngLat)},k=()=>()=>{b("pointer")},O=()=>{b(null)},v=V(j.layers,p,y.focusedLayer);console.log(v);const g=V(h.layers,p,y.focusedLayer,null===(e=j.layers.slice(-1)[0])||void 0===e?void 0:e.id);return Object(I.jsxs)("div",{className:"container",children:[Object(I.jsxs)(r.f,{...t,style:{flexGrow:"1",height:"100%"},mapStyle:"mapbox://styles/yooperjb/ckot0y3yz3kd217lllr2akvdn",accessToken:"pk.eyJ1IjoieW9vcGVyamIiLCJhIjoiY2tvdzh4Zm5nMDNhYjJucXVkcWNmMXJrMiJ9.qu4fF1cZMCiLQSSr3ik5tQ",onViewportChange:s,cursorStyle:u,children:[Object(I.jsx)(r.e,{...h.source,children:g.map((e=>Object(I.jsx)(r.b,{...y.focusedLayer===e.id?G(e):e,onClick:x,onHover:k(e.id),onLeave:O},e.id)))}),Object(I.jsx)(r.e,{...j.source,children:v.map((e=>Object(I.jsx)(r.b,{...y.focusedLayer===e.id?G(e):e,onHover:k(e.id),onLeave:O,onClick:m},e.id)))}),o&&c?Object(I.jsx)(r.d,{latitude:c.lat,longitude:c.lng,closeButton:!1,className:"bikePointsPopup",onClose:()=>a(null),children:Object(I.jsxs)("div",{children:[Object(I.jsx)("h3",{children:o.Type}),Object(I.jsx)("p",{children:o.Name}),Object(I.jsx)("p",{children:o.Location}),o.Website?Object(I.jsx)("p",{children:Object(I.jsx)("a",{target:"_blank",href:o.Website,rel:"noreferrer",children:"Website"})}):null]})}):null,l&&c?Object(I.jsx)(r.d,{latitude:c.lat,longitude:c.lng,closeButton:!1,className:"bikeRoutePopup",onClose:()=>n(null),children:Object(I.jsxs)("div",{children:[Object(I.jsx)("h3",{children:l.type_2021}),Object(I.jsx)("p",{children:l.Name}),Object(I.jsxs)("p",{children:["Bike Allowed: ",l.Bikes_Allowed]})]})}):null,Object(I.jsx)(r.c,{showZoom:!0,position:"top-right"}),Object(I.jsx)(r.a,{})]}),Object(I.jsx)(H,{})]})};s(16);var X=e=>{e&&e instanceof Function&&s.e(3).then(s.bind(null,18)).then((({getCLS:t,getFID:s,getFCP:i,getLCP:o,getTTFB:a})=>{t(e),s(e),i(e),o(e),a(e)}))};l.a.render(Object(I.jsx)(o.a.StrictMode,{children:Object(I.jsx)(_,{children:Object(I.jsx)(S,{children:Object(I.jsx)(Q,{})})})}),document.getElementById("root")),X()}],[[17,1,2]]]);
//# sourceMappingURL=main.0c993f10.chunk.js.map