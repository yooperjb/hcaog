(this.webpackJsonphcaog=this.webpackJsonphcaog||[]).push([[0],[,,,function(e,t,i){e.exports={sidebar:"style_sidebar__1xS8u",summary:"style_summary__cSVrD",logo:"style_logo__1KyVL",layers:"style_layers__2UnVd","layers-header":"style_layers-header__2dq0o"}},function(e,t,i){e.exports={"layer-toggle":"style_layer-toggle__2SIO5","layer-checkbox":"style_layer-checkbox__3gh8k",line:"style_line__1MErE",ClassI:"style_ClassI__3YE3n",ClassII:"style_ClassII__2pcQf",ClassIII:"style_ClassIII__2fvzR",Trail:"style_Trail__2SSA-",Advanced:"style_Advanced__1bEE1",icon:"style_icon__2_qGz"}},,function(e,t,i){e.exports={tooltip:"style_tooltip__SdGTz","tooltip-text":"style_tooltip-text__2XFHk",visible:"style_visible__2nk80","tooltip-top":"style_tooltip-top__18-_F"}},,,,,,,,function(e,t,i){},,function(e,t,i){},function(e,t,i){"use strict";i.r(t);var o=i(1),s=i.n(o),a=i(5),r=i.n(a),l=i(2);i(14);const n={get:e=>({...n[e],id:e}),"bike-points":{id:"bike-points",type:"vector",url:"mapbox://yooperjb.96kntbve"},"bike-routes":{id:"bike-routes",type:"vector",url:"mapbox://yooperjb.3kf292c5"},connectors:{id:"connectors",type:"vector",url:"mapbox://hcaog.digdwntd"}},c={"bike-points":"bike_points-8mbmdl","bike-routes":"bike_routes-2nr3p1",connectors:"connectors-7o42gn"},d=1,u=2,y=({type:e,sourceId:t,sourceLayerId:i,layout:o,paint:s,filter:a})=>({id:r,layerName:l,layout:n,paint:d})=>({id:r,type:e,source:t,"source-layer":c[i],layout:{...o,...n},paint:{...s,...d},filter:a(l)}),p=({sourceId:e,sourceLayerId:t,filter:i})=>y({type:"line",sourceId:e,sourceLayerId:t,layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-width":u},filter:i}),b=(({sourceId:e,sourceLayerId:t,filter:i})=>y({type:"symbol",sourceId:e,sourceLayerId:t,layout:{"icon-size":d,"icon-allow-overlap":!1,visibility:"visible"},paint:{},filter:i}))({sourceId:"bike-points",sourceLayerId:"bike-points",filter:e=>["==","Type",e]}),j=p({sourceId:"bike-routes",sourceLayerId:"bike-routes",filter:e=>["==","type_2021",e]}),m=p({sourceId:"connectors",sourceLayerId:"connectors",filter:e=>["==","Type",e]}),h={source:n.get("bike-points"),layers:[{id:"bike-shops",layout:{"icon-image":"hcaog-hardware-15"},paint:{"icon-color":"black"},layerName:"Bicycle Shop"},{id:"bike-parking",layout:{"icon-image":"hcaog-parking-15"},paint:{"icon-color":"black"},layerName:"Bicycle Parking"},{id:"tool-station",layout:{"icon-image":"hardware-15"},layerName:"Tool Station"}].map(b),details:{"bike-shops":{name:"Bike Shops"},"bike-parking":{name:"Bike Parking"},"tool-station":{name:"Tool Station"}}},x={source:n.get("bike-routes"),layers:[{id:"ClassI",paint:{"line-color":"#b50707"},layerName:"Existing Class I"},{id:"ClassII",paint:{"line-color":"orange"},layerName:"Existing Class II"},{id:"ClassIII",paint:{"line-color":"#eded5c"},layerName:"Existing Class III"},{id:"Trail",paint:{"line-color":"#baa77c","line-dasharray":[1,2]},layerName:"Existing Trail"}].map(j),details:{ClassI:{name:"Class I Bike Route",description:"A separated paved path for bicycles and pedestrians."},ClassII:{name:"Class II Bike Route",description:"A restricted right-of-way for bicycles along the side of a street (typically 5 feet wide). A thick white line separates the auto and bike lanes. Motor vehicles may merge into these lanes to make turns."},ClassIII:{name:"Class III Bike Route",description:"A travel lane shared by bicycles and motor vehicles designated only by signs or pavement markings. This type of facility mainly informs motorists of preferred cycling routes."},Trail:{name:"Natural Surface Trails",description:"A dirt or gravel single-track paths that are bicycle compatible."}}},g={source:n.get("connectors"),layers:[{id:"Family Friendly",paint:{"line-color":"green","line-dasharray":[1,2]},layerName:"Family Friendly"},{id:"Intermediate",paint:{"line-color":"black"},layerName:"Intermediate"},{id:"Advanced",paint:{"line-color":"#871f1f","line-dasharray":[1,2]},layerName:"Advanced"}].map(m),details:{"Family Friendly":{name:"Family Friendly",description:"Family friendly connector routes."},Intermediate:{name:"Intermediate",description:"Intermediate connector routes that are a little more difficult than famiy-friendly routes."},Advanced:{name:"Advanced",description:"Advanced connector routes that typically involves more traffic and may require advanced bike skills."}}};var v=i.p+"static/media/logo.3d93fbe4.png";const O=e=>({type:O,value:e}),k=()=>({type:k});var f=(e,{type:t,value:i})=>{switch(t){case O:return{...e,focusedLayer:i};case k:return{...e,focusedLayer:void 0}}},I=i(0);const _={focusedLayer:"class1"},C=Object(o.createContext)(_),L=({children:e})=>{const[t,i]=Object(o.useReducer)(f,_);return Object(I.jsx)(C.Provider,{value:[t,i],children:e})},N=()=>Object(o.useContext)(C);const w=e=>({type:w,value:e});var S=(e,{type:t,value:i})=>{switch(t){case w:return{...e,[i]:!e[i]}}};const A={ClassI:!0,ClassII:!0,ClassIII:!0,Trail:!0,"bike-parking":!0,"bike-shops":!0,"tool-station":!0},T=Object(o.createContext)(A),F=({children:e})=>{const[t,i]=Object(o.useReducer)(S,A);return Object(I.jsx)(T.Provider,{value:[t,i],children:e})},B=()=>Object(o.useContext)(T);var M=i(6),E=i.n(M);const R=e=>e?document.documentElement.style.setProperty("--tooltip-offset","".concat(e,"px")):document.documentElement.style.removeProperty("--tooltip-offset");var P=({text:e,direction:t,children:i})=>{const s=Object(o.useRef)();return Object(I.jsxs)("span",{className:"".concat(E.a.tooltip," ").concat(E.a["tooltip-"+t]),onMouseEnter:()=>{if(!s.current)return;const e=s.current.getBoundingClientRect(),t=Math.floor(Math.min(0,window.innerWidth-e.right));R(t)},onMouseLeave:()=>R(0),children:[i,Object(I.jsx)("div",{className:E.a["tooltip-text"],ref:s,children:e})]})},z=i(4),H=i.n(z);var J=({layerId:e,details:{name:t,description:i},type:o})=>{const[,s]=N(),[a,r]=B();return Object(I.jsxs)("div",{className:H.a["layer-toggle"],children:[Object(I.jsxs)("span",{onClick:()=>r(w(e)),onMouseEnter:()=>s(O(e)),onMouseLeave:()=>s(k(e)),children:[Object(I.jsx)("div",{className:H.a["layer-checkbox"],children:Object(I.jsx)("input",{type:"checkbox",className:"".concat(H.a[o]," ").concat(H.a[e]),defaultChecked:a[e]})}),Object(I.jsx)("label",{htmlFor:H.a[e],children:t})]}),i&&Object(I.jsxs)(P,{text:i,direction:"top",children:["\ud83d\udec8",Object(I.jsx)("strong",{})]})]})},W=i(3),G=i.n(W);var V=()=>Object(I.jsxs)("div",{className:G.a.sidebar,children:[Object(I.jsx)("div",{className:G.a.logo,children:Object(I.jsx)("img",{src:v,alt:"HCAGO Logo"})}),Object(I.jsxs)("div",{className:G.a.summary,children:[Object(I.jsx)("p",{children:"Humboldt County offers incredible bike opportunities for visitors and locals alike. Find a new way to commute to work, explore the countryside, an adventurous mountain bike ride, and more!"}),Object(I.jsxs)("p",{children:["To learn more about Humboldt County Bike Routes click",Object(I.jsx)("a",{target:"_blank",href:"https://www.hcaog.net/documents/humboldt-regional-bicycle-plan-2018",rel:"noreferrer",children:"here"}),"."]})]}),Object(I.jsxs)("div",{className:G.a.layers,children:[Object(I.jsx)("h3",{className:G.a["layers-header"],children:"Existing Bike Routes"}),Object.entries(x.details).map((([e,t])=>Object(I.jsx)(J,{layerId:e,details:t,type:"line"},e))),Object.entries(h.details).map((([e,t])=>Object(I.jsx)(J,{layerId:e,details:t,type:"icon"},e))),Object(I.jsx)("h3",{className:G.a["layers-header"],children:"Connector Routes"}),Object.entries(g.details).map((([e,t])=>Object(I.jsx)(J,{layerId:e,details:t,type:"line"},e)))]})]});const q={symbol:1.5*d,line:2*u},D=(e,t,i,s)=>{const a=Object(o.useMemo)((()=>e.filter((e=>t[e.id]))),[e,t]),r=Object(o.useMemo)((()=>a.map(((e,t)=>[t,e])).sort((([e,t],[o,s])=>t.id==i?-1:s.id==i?1:e-o)).map((([,e])=>e))),[a,i]);return Array.from(Object(o.useMemo)((()=>r.map(((e,t,i)=>{var o,a;return{...e,before:null!==(o=null===(a=i[t-1])||void 0===a?void 0:a.id)&&void 0!==o?o:s}}))),[r,s]))},Q=e=>{switch(e.type){case"symbol":return{...e,layout:{...e.layout,"icon-size":q.symbol}};case"line":return{...e,paint:{...e.paint,"line-width":q.line}}}};var X=()=>{var e;const[t,i]=Object(o.useState)({latitude:40.745,longitude:-123.8695,zoom:8}),[s,a]=Object(o.useState)(null),[r,n]=Object(o.useState)(null),[c,d]=Object(o.useState)(null),[u,y]=Object(o.useState)(null),[p,b]=Object(o.useState)(null),[j]=N(),[m]=B(),v=e=>{a(e.features[0].properties),y(e.lngLat)},O=e=>{n(e.features[0].properties),y(e.lngLat)},k=e=>{d(e.features[0].properties),y(e.lngLat),console.log("connector",c)},f=()=>()=>{b("pointer")},_=()=>{b(null)},C=D(h.layers,m,j.focusedLayer),L=D(x.layers,m,j.focusedLayer,null===(e=h.layers.slice(-1)[0])||void 0===e?void 0:e.id),w=D(g.layers,m,j.focusedLayer);return Object(I.jsxs)("div",{className:"container",children:[Object(I.jsxs)(l.g,{...t,style:{flexGrow:"1",height:"100%"},mapStyle:"mapbox://styles/yooperjb/ckot0y3yz3kd217lllr2akvdn",accessToken:"pk.eyJ1IjoieW9vcGVyamIiLCJhIjoiY2tvdzh4Zm5nMDNhYjJucXVkcWNmMXJrMiJ9.qu4fF1cZMCiLQSSr3ik5tQ",onViewportChange:i,cursorStyle:p,attributionControl:!1,pitchWithRotate:!0,dragRotate:!0,children:[Object(I.jsx)(l.f,{...x.source,children:L.map((e=>Object(I.jsx)(l.c,{...j.focusedLayer===e.id?Q(e):e,onHover:f(e.id),onClick:O,onLeave:_},e.id)))}),Object(I.jsx)(l.f,{...g.source,children:w.map((e=>Object(I.jsx)(l.c,{...j.focusedLayer===e.id?Q(e):e,onClick:k,onHover:f(e.id),onLeave:_},e.id)))}),Object(I.jsx)(l.f,{...h.source,children:C.map((e=>Object(I.jsx)(l.c,{...j.focusedLayer===e.id?Q(e):e,onHover:f(e.id),onClick:v,onLeave:_},e.id)))}),s&&u?Object(I.jsx)(l.e,{latitude:u.lat,longitude:u.lng,closeButton:!1,className:"bikePointsPopup",onClose:()=>a(null),children:Object(I.jsxs)("div",{children:[Object(I.jsx)("h3",{children:s.Type}),Object(I.jsx)("p",{children:s.Name}),Object(I.jsx)("p",{children:s.Location}),s.Website?Object(I.jsx)("p",{children:Object(I.jsx)("a",{target:"_blank",href:s.Website,rel:"noreferrer",children:"Website"})}):null]})}):null,r&&u?Object(I.jsx)(l.e,{latitude:u.lat,longitude:u.lng,closeButton:!1,className:"bikeRoutePopup",onClose:()=>n(null),children:Object(I.jsxs)("div",{children:[Object(I.jsx)("h3",{children:r.type_2021}),Object(I.jsx)("p",{children:r.Name}),Object(I.jsxs)("p",{children:["Bikes Allowed: ",r.Bikes_Allo]})]})}):null,c&&u?Object(I.jsx)(l.e,{latitude:u.lat,longitude:u.lng,closeButton:!1,className:"connectorPopup",onClose:()=>d(null),children:Object(I.jsxs)("div",{children:[Object(I.jsx)("h3",{children:c.Type}),Object(I.jsx)("p",{children:c.Name})]})}):null,Object(I.jsx)(l.d,{showZoom:!0,position:"top-right"}),Object(I.jsx)(l.b,{}),Object(I.jsx)(l.a,{position:"bottom-right",customAttribution:"HCAOG",compact:!0})]}),Object(I.jsx)(V,{})]})};i(16);var Y=e=>{e&&e instanceof Function&&i.e(3).then(i.bind(null,18)).then((({getCLS:t,getFID:i,getFCP:o,getLCP:s,getTTFB:a})=>{t(e),i(e),o(e),s(e),a(e)}))};r.a.render(Object(I.jsx)(s.a.StrictMode,{children:Object(I.jsx)(L,{children:Object(I.jsx)(F,{children:Object(I.jsx)(X,{})})})}),document.getElementById("root")),Y()}],[[17,1,2]]]);
//# sourceMappingURL=main.18a3cec4.chunk.js.map